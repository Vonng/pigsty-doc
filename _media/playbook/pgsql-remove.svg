<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 --><!-- Title: pgsql&#45;remove.yml  Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1750pt" height="2522pt" viewBox="0.00 0.00 1750.32 2522.25" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[const HOVER_CLASS = "my_hover";

var selectedElement = null;

function addClass(rootElement) {
    $(rootElement).find('link').each(function (index, element) {
        var target = $(element).attr('target');
        var currentElement = $('#' + target);
        currentElement.addClass(HOVER_CLASS);

        addClass(currentElement);
    })
}

function removeClass(rootElement, hover) {
    $(rootElement).find('link').each(function (index, element) {
        if ($(rootElement).attr('id') !== $(selectedElement).attr('id') || !hover) {
            var target = $(element).attr('target');
            var currentElement = $('#' + target);
            currentElement.removeClass(HOVER_CLASS);

            removeClass(currentElement);
        }

    })
}

function hoverIn(event) {
    addClass(event.currentTarget);
}

function hoverOut(event) {
    removeClass(event.currentTarget, true);
}

function clickOnElement(event) {
    var newElement = event.currentTarget;

    if ($(newElement).attr('id') === $(selectedElement).attr('id')) {
        removeClass(selectedElement, false);
    } else {
        removeClass(selectedElement);
        addClass(newElement)
    }

    selectedElement = newElement;
}


$("#svg").ready(function () {

    $("g[id^=play_]").hover(hoverIn, hoverOut);
    $("g[id^=role_]").hover(hoverIn, hoverOut);

    $("g[id^=play_]").click(clickOnElement);
    $("g[id^=role_]").click(clickOnElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

.my_hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2518.25)">
<title>pgsql-remove.yml </title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2518.25 1746.32,-2518.25 1746.32,4 -4,4"/>
<!-- pgsql&#45;remove.yml -->
<g id="root_node" class="node">
<title>pgsql-remove.yml</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="76.04" cy="-1268.25" rx="76.09" ry="18"/>
<text text-anchor="middle" x="76.04" y="-1264.55" font-family="Times,serif" font-size="14.00">pgsql-remove.yml</text>
</g>
<!-- Play #1: Remove pgsql (4) -->
<g id="play_6376bfc0-d9b7-4a3c-88a7-6a94b0287cf3" class="node">
<title>Play #1: Remove pgsql (4)</title>
<g id="a_play_6376bfc0-d9b7-4a3c-88a7-6a94b0287cf3"><a xlink:title="10.10.10.10     10.10.10.11     10.10.10.12     10.10.10.13">
<polygon fill="#16cb56" stroke="#16cb56" points="359.09,-1286.25 195.09,-1286.25 195.09,-1250.25 359.09,-1250.25 359.09,-1286.25"/>
<text text-anchor="middle" x="277.09" y="-1264.55" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play #1: Remove pgsql (4)</text>
</a>
</g>
<links><link target="edge_50e13dae-35de-4029-a48e-d899d71a4fef"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;Play #1: Remove pgsql (4) -->
<g id="edge_1998030a-ee7d-4180-b67f-f5c0b26fd14b" class="edge">
<title>pgsql-remove.yml-&gt;Play #1: Remove pgsql (4)</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M152.29,-1268.25C163,-1268.25 174.1,-1268.25 185.07,-1268.25"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="185.08,-1271.75 195.08,-1268.25 185.08,-1264.75 185.08,-1271.75"/>
<text text-anchor="middle" x="173.59" y="-1272.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">1</text>
</g>
<!-- [role] remove -->
<g id="role_63512a7f-e86b-4a8f-bfb2-5d278a5e61a2" class="node">
<title>[role] remove</title>
<ellipse fill="none" stroke="black" cx="461.88" cy="-1268.25" rx="59.59" ry="18"/>
<text text-anchor="middle" x="461.88" y="-1264.55" font-family="Times,serif" font-size="14.00">[role] remove</text>
<links><link target="edge_8773d88f-5a10-403e-9a1f-af97d58b8810"/><link target="edge_a087d2fd-2308-42e4-80ff-a8807afea069"/><link target="edge_de20db5e-8151-451b-9ef8-7f447d2983b4"/><link target="edge_da10b5ce-8e0c-4273-a492-4652c3931d4d"/><link target="edge_bb6cf764-3c2c-4d72-ad5b-e86cf219b95d"/><link target="edge_2cf0b5ce-136d-46d4-a705-d796fc7aa376"/><link target="edge_d59ece2e-1933-4e69-8d53-30b00f06993b"/><link target="edge_704cc311-13c8-4a5b-9769-81144720da93"/><link target="edge_1d64008f-ddf0-4fa6-a504-c1db45277bf2"/><link target="edge_e58f267b-6431-4040-98cd-481cd67ef144"/><link target="edge_ccbf1030-5524-4fae-b528-e32337c64a80"/><link target="edge_4b0bff11-9f45-4bc1-b5a9-88ddb42b811f"/><link target="edge_4f2c9b31-4a0b-4087-a120-f934c7313043"/><link target="edge_824b6d75-0c72-4769-830f-e5e792e49673"/><link target="edge_ffd872cb-0a53-4030-9fa8-2c3f050b427f"/><link target="edge_5cb1ce17-7da0-4d62-91f2-5c99989c967b"/><link target="edge_9a3109c9-3c44-4c00-9b62-f4bd7d118f56"/><link target="edge_8eeb3cbc-7f7a-42c6-ac97-258a6ac1fcf4"/><link target="edge_80cb4f0e-5cec-476c-a1ee-fd96fc080de3"/><link target="edge_05a5048a-1478-4553-a5c0-9633db3deea0"/><link target="edge_0f8e3fa7-ca2c-4091-a39e-2b51bfec7bc4"/><link target="edge_56d3f23f-8fd0-4d00-bb8a-1b7cc3143d49"/><link target="edge_ff2e8825-b1b1-4033-82ff-12b82e26c3d0"/><link target="edge_c5e7e611-dbfe-4598-81eb-017d13325b8f"/><link target="edge_d1731d1a-a1bd-4387-beea-90ca7555d9ec"/><link target="edge_a4f74c5a-ffe9-451a-b36a-8a09cda5070c"/><link target="edge_81168969-ef34-4699-a71e-7ee65b6631a3"/><link target="edge_221fdbb4-4e14-4b02-922c-b6a1cf10cbe4"/><link target="edge_827a0d4a-6934-487e-90bc-b64ee481de7a"/><link target="edge_33f0edb2-cf11-4136-b92c-3c51d39a9b52"/><link target="edge_ced54f72-51fd-4d6a-ac4b-b67b744ccca5"/><link target="edge_f4e0fbd9-8de0-44c8-8680-307c4af54bd4"/><link target="edge_b1b18a4d-9779-4a9a-b648-adf3fe925918"/><link target="edge_a8253d6f-a134-421b-9868-8a14ae49f7d5"/><link target="edge_af56ae0f-b25a-429c-af2d-95cf4a65aebe"/><link target="edge_fed9288e-3a7a-4b8f-83cf-1c6a1f221602"/><link target="edge_6a2dc7fb-eaac-4df0-bee6-1ee46fd046b6"/><link target="edge_d27d6cd3-266c-4c56-9567-64c84c0caac1"/><link target="edge_8b353d3d-5388-429b-a441-3b6d8825598d"/><link target="edge_62d7e41a-82a9-4288-91f3-7812946de173"/><link target="edge_b5707c3f-0acb-4e6e-9e90-3ea9b483644f"/><link target="edge_6acd0816-3aeb-4f5b-a5b6-bdb94ff1f16c"/><link target="edge_bc7902cc-fc0a-45bd-8657-615193702fcc"/><link target="edge_66235575-fd22-438b-a6f3-23c247625481"/><link target="edge_08b0bf02-9f34-4f43-9e2a-3b84e9b82df1"/><link target="edge_0bbf3070-1155-453b-a2a6-90ef48ff09c7"/></links></g>
<!-- task_889524de&#45;2c86&#45;469f&#45;a0e2&#45;8aaf0b57ad06 -->
<g id="task_889524de-2c86-469f-a0e2-8aaf0b57ad06" class="node">
<title>task_889524de-2c86-469f-a0e2-8aaf0b57ad06</title>
<polygon fill="none" stroke="black" points="1677.7,-2475.79 1677.7,-2490.7 1547.83,-2501.25 1364.17,-2501.25 1234.3,-2490.7 1234.3,-2475.79 1364.17,-2465.25 1547.83,-2465.25 1677.7,-2475.79"/>
<text text-anchor="middle" x="1456" y="-2479.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove pgsql target from prometheus</text>
</g>
<!-- [role] remove&#45;&gt;task_889524de&#45;2c86&#45;469f&#45;a0e2&#45;8aaf0b57ad06 -->
<g id="edge_8773d88f-5a10-403e-9a1f-af97d58b8810" class="edge">
<title>[role] remove-&gt;task_889524de-2c86-469f-a0e2-8aaf0b57ad06</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.35,-1286.28C467.28,-1432.44 495.33,-2418.65 539.68,-2461.25 589.31,-2508.92 990.7,-2502.16 1245.2,-2492.8"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1245.45,-2496.29 1255.32,-2492.42 1245.19,-2489.29 1245.45,-2496.29"/>
<text text-anchor="middle" x="845.68" y="-2503.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">1</text>
<links><link target="task_889524de-2c86-469f-a0e2-8aaf0b57ad06"/></links></g>
<!-- task_ba642fc3&#45;86af&#45;4a17&#45;9e80&#45;99899952c3a9 -->
<g id="task_ba642fc3-86af-4a17-9e80-99899952c3a9" class="node">
<title>task_ba642fc3-86af-4a17-9e80-99899952c3a9</title>
<polygon fill="none" stroke="black" points="1690.02,-2421.79 1690.02,-2436.7 1552.93,-2447.25 1359.06,-2447.25 1221.97,-2436.7 1221.97,-2421.79 1359.06,-2411.25 1552.93,-2411.25 1690.02,-2421.79"/>
<text text-anchor="middle" x="1456" y="-2425.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove grafana datasource on meta node</text>
</g>
<!-- [role] remove&#45;&gt;task_ba642fc3&#45;86af&#45;4a17&#45;9e80&#45;99899952c3a9 -->
<g id="edge_a087d2fd-2308-42e4-80ff-a8807afea069" class="edge">
<title>[role] remove-&gt;task_ba642fc3-86af-4a17-9e80-99899952c3a9</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.67,-1286.54C461.22,-1426.63 455.22,-2326.37 539.68,-2407.25 588.89,-2454.37 982.78,-2448.24 1237.56,-2439.05"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1237.83,-2442.54 1247.7,-2438.68 1237.58,-2435.55 1237.83,-2442.54"/>
<text text-anchor="middle" x="845.68" y="-2449.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">2</text>
<links><link target="task_ba642fc3-86af-4a17-9e80-99899952c3a9"/></links></g>
<!-- task_7fde33a7&#45;3d09&#45;43fc&#45;bfc8&#45;9fd419254464 -->
<g id="task_7fde33a7-3d09-43fc-bfc8-9fd419254464" class="node">
<title>task_7fde33a7-3d09-43fc-bfc8-9fd419254464</title>
<polygon fill="none" stroke="black" points="1679.01,-2367.79 1679.01,-2382.7 1548.37,-2393.25 1363.62,-2393.25 1232.98,-2382.7 1232.98,-2367.79 1363.62,-2357.25 1548.37,-2357.25 1679.01,-2367.79"/>
<text text-anchor="middle" x="1456" y="-2371.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove haproxy upstream from nginx</text>
</g>
<!-- [role] remove&#45;&gt;task_7fde33a7&#45;3d09&#45;43fc&#45;bfc8&#45;9fd419254464 -->
<g id="edge_de20db5e-8151-451b-9ef8-7f447d2983b4" class="edge">
<title>[role] remove-&gt;task_7fde33a7-3d09-43fc-bfc8-9fd419254464</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.73,-1286.53C461.81,-1422.76 459.25,-2276.49 539.68,-2353.25 589.37,-2400.68 989.37,-2394.08 1243.88,-2384.8"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1244.14,-2388.29 1254,-2384.42 1243.88,-2381.29 1244.14,-2388.29"/>
<text text-anchor="middle" x="845.68" y="-2395.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">3</text>
<links><link target="task_7fde33a7-3d09-43fc-bfc8-9fd419254464"/></links></g>
<!-- task_8bc40eb0&#45;825e&#45;4955&#45;a79e&#45;83ddc28f0176 -->
<g id="task_8bc40eb0-825e-4955-a79e-83ddc28f0176" class="node">
<title>task_8bc40eb0-825e-4955-a79e-83ddc28f0176</title>
<polygon fill="none" stroke="black" points="1687.4,-2313.79 1687.4,-2328.7 1551.85,-2339.25 1360.15,-2339.25 1224.6,-2328.7 1224.6,-2313.79 1360.15,-2303.25 1551.85,-2303.25 1687.4,-2313.79"/>
<text text-anchor="middle" x="1456" y="-2317.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove haproxy url location from nginx</text>
</g>
<!-- [role] remove&#45;&gt;task_8bc40eb0&#45;825e&#45;4955&#45;a79e&#45;83ddc28f0176 -->
<g id="edge_da10b5ce-8e0c-4273-a492-4652c3931d4d" class="edge">
<title>[role] remove-&gt;task_8bc40eb0-825e-4955-a79e-83ddc28f0176</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.8,-1286.45C462.43,-1418.54 463.26,-2226.58 539.68,-2299.25 589.11,-2346.25 983.74,-2340.11 1238.44,-2330.97"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1238.71,-2334.46 1248.57,-2330.6 1238.45,-2327.46 1238.71,-2334.46"/>
<text text-anchor="middle" x="845.68" y="-2341.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">4</text>
<links><link target="task_8bc40eb0-825e-4955-a79e-83ddc28f0176"/></links></g>
<!-- task_35f35305&#45;81c6&#45;46c7&#45;a5b2&#45;f2fcd03ee0d4 -->
<g id="task_35f35305-81c6-46c7-a5b2-f2fcd03ee0d4" class="node">
<title>task_35f35305-81c6-46c7-a5b2-f2fcd03ee0d4</title>
<polygon fill="none" stroke="black" points="1693.56,-2259.79 1693.56,-2274.7 1554.4,-2285.25 1357.6,-2285.25 1218.44,-2274.7 1218.44,-2259.79 1357.6,-2249.25 1554.4,-2249.25 1693.56,-2259.79"/>
<text text-anchor="middle" x="1456" y="-2263.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload nginx to remove haproxy upstream</text>
</g>
<!-- [role] remove&#45;&gt;task_35f35305&#45;81c6&#45;46c7&#45;a5b2&#45;f2fcd03ee0d4 -->
<g id="edge_bb6cf764-3c2c-4d72-ad5b-e86cf219b95d" class="edge">
<title>[role] remove-&gt;task_35f35305-81c6-46c7-a5b2-f2fcd03ee0d4</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.88,-1286.31C463.07,-1413.94 467.25,-2176.66 539.68,-2245.25 588.95,-2291.91 979.84,-2286.11 1234.62,-2277.07"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1234.89,-2280.56 1244.76,-2276.71 1234.64,-2273.57 1234.89,-2280.56"/>
<text text-anchor="middle" x="845.68" y="-2287.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">5</text>
<links><link target="task_35f35305-81c6-46c7-a5b2-f2fcd03ee0d4"/></links></g>
<!-- task_03633e82&#45;44c9&#45;44cb&#45;8438&#45;00dc11e57233 -->
<g id="task_03633e82-44c9-44cb-8438-00dc11e57233" class="node">
<title>task_03633e82-44c9-44cb-8438-00dc11e57233</title>
<polygon fill="none" stroke="black" points="1667.5,-2205.79 1667.5,-2220.7 1543.6,-2231.25 1368.39,-2231.25 1244.49,-2220.7 1244.49,-2205.79 1368.39,-2195.25 1543.6,-2195.25 1667.5,-2205.79"/>
<text text-anchor="middle" x="1456" y="-2209.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove cluster service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_03633e82&#45;44c9&#45;44cb&#45;8438&#45;00dc11e57233 -->
<g id="edge_2cf0b5ce-136d-46d4-a705-d796fc7aa376" class="edge">
<title>[role] remove-&gt;task_03633e82-44c9-44cb-8438-00dc11e57233</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.97,-1286.49C463.76,-1410.51 471.3,-2126.79 539.68,-2191.25 590.09,-2238.77 996.43,-2231.77 1250.48,-2222.46"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1250.71,-2225.96 1260.58,-2222.09 1250.45,-2218.96 1250.71,-2225.96"/>
<text text-anchor="middle" x="845.68" y="-2232.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">6  [when: service_registry == 'consul']</text>
<links><link target="task_03633e82-44c9-44cb-8438-00dc11e57233"/></links></g>
<!-- task_39c508ce&#45;2e14&#45;4089&#45;b730&#45;58be7bb6dab1 -->
<g id="task_39c508ce-2e14-4089-b730-58be7bb6dab1" class="node">
<title>task_39c508ce-2e14-4089-b730-58be7bb6dab1</title>
<polygon fill="none" stroke="black" points="1673.26,-2151.79 1673.26,-2166.7 1545.99,-2177.25 1366.01,-2177.25 1238.74,-2166.7 1238.74,-2151.79 1366.01,-2141.25 1545.99,-2141.25 1673.26,-2151.79"/>
<text text-anchor="middle" x="1456" y="-2155.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove haproxy service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_39c508ce&#45;2e14&#45;4089&#45;b730&#45;58be7bb6dab1 -->
<g id="edge_d59ece2e-1933-4e69-8d53-30b00f06993b" class="edge">
<title>[role] remove-&gt;task_39c508ce-2e14-4089-b730-58be7bb6dab1</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.07,-1286.57C464.5,-1406.54 475.33,-2076.89 539.68,-2137.25 589.95,-2184.39 992.21,-2177.76 1246.46,-2168.57"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1246.7,-2172.06 1256.57,-2168.2 1246.45,-2165.07 1246.7,-2172.06"/>
<text text-anchor="middle" x="845.68" y="-2178.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">7  [when: service_registry == 'consul']</text>
<links><link target="task_39c508ce-2e14-4089-b730-58be7bb6dab1"/></links></g>
<!-- task_b3601830&#45;d725&#45;411d&#45;a682&#45;d4ce523d6933 -->
<g id="task_b3601830-d725-411d-a682-d4ce523d6933" class="node">
<title>task_b3601830-d725-411d-a682-d4ce523d6933</title>
<polygon fill="none" stroke="black" points="1667.09,-2097.79 1667.09,-2112.7 1543.44,-2123.25 1368.56,-2123.25 1244.9,-2112.7 1244.9,-2097.79 1368.56,-2087.25 1543.44,-2087.25 1667.09,-2097.79"/>
<text text-anchor="middle" x="1456" y="-2101.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload consul to dereigster haproxy</text>
</g>
<!-- [role] remove&#45;&gt;task_b3601830&#45;d725&#45;411d&#45;a682&#45;d4ce523d6933 -->
<g id="edge_704cc311-13c8-4a5b-9769-81144720da93" class="edge">
<title>[role] remove-&gt;task_b3601830-d725-411d-a682-d4ce523d6933</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.18,-1286.54C465.27,-1402.01 479.32,-2026.97 539.68,-2083.25 590.32,-2130.46 996.02,-2123.6 1250.02,-2114.4"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1250.25,-2117.89 1260.11,-2114.03 1249.99,-2110.9 1250.25,-2117.89"/>
<text text-anchor="middle" x="845.68" y="-2124.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">8  [when: service_registry == 'consul']</text>
<links><link target="task_b3601830-d725-411d-a682-d4ce523d6933"/></links></g>
<!-- task_f7dec25d&#45;d9c2&#45;405c&#45;9858&#45;5a00b4498cea -->
<g id="task_f7dec25d-d9c2-405c-9858-5a00b4498cea" class="node">
<title>task_f7dec25d-d9c2-405c-9858-5a00b4498cea</title>
<polygon fill="none" stroke="black" points="1679.92,-2043.79 1679.92,-2058.7 1548.75,-2069.25 1363.25,-2069.25 1232.08,-2058.7 1232.08,-2043.79 1363.25,-2033.25 1548.75,-2033.25 1679.92,-2043.79"/>
<text text-anchor="middle" x="1456" y="-2047.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable haproxy load balancer</text>
</g>
<!-- [role] remove&#45;&gt;task_f7dec25d&#45;d9c2&#45;405c&#45;9858&#45;5a00b4498cea -->
<g id="edge_1d64008f-ddf0-4fa6-a504-c1db45277bf2" class="edge">
<title>[role] remove-&gt;task_f7dec25d-d9c2-405c-9858-5a00b4498cea</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.31,-1286.39C466.08,-1396.94 483.29,-1977.02 539.68,-2029.25 589.9,-2075.76 986.98,-2069.64 1241.38,-2060.66"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1241.63,-2064.15 1251.5,-2060.29 1241.38,-2057.15 1241.63,-2064.15"/>
<text text-anchor="middle" x="845.68" y="-2070.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">9</text>
<links><link target="task_f7dec25d-d9c2-405c-9858-5a00b4498cea"/></links></g>
<!-- task_d6b04209&#45;f04c&#45;4fd4&#45;9c7a&#45;3be7afd69e3f -->
<g id="task_d6b04209-f04c-4fd4-9c7a-3be7afd69e3f" class="node">
<title>task_d6b04209-f04c-4fd4-9c7a-3be7afd69e3f</title>
<polygon fill="none" stroke="black" points="1643.26,-1989.79 1643.26,-2004.7 1533.56,-2015.25 1378.43,-2015.25 1268.74,-2004.7 1268.74,-1989.79 1378.43,-1979.25 1533.56,-1979.25 1643.26,-1989.79"/>
<text text-anchor="middle" x="1456" y="-1993.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable vip-manager</text>
</g>
<!-- [role] remove&#45;&gt;task_d6b04209&#45;f04c&#45;4fd4&#45;9c7a&#45;3be7afd69e3f -->
<g id="edge_e58f267b-6431-4040-98cd-481cd67ef144" class="edge">
<title>[role] remove-&gt;task_d6b04209-f04c-4fd4-9c7a-3be7afd69e3f</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.46,-1286.46C466.98,-1392.49 487.3,-1927.1 539.68,-1975.25 591.68,-2023.05 1012.75,-2015.08 1265.3,-2005.74"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1265.47,-2009.23 1275.33,-2005.36 1265.2,-2002.24 1265.47,-2009.23"/>
<text text-anchor="middle" x="845.68" y="-2016.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">10</text>
<links><link target="task_d6b04209-f04c-4fd4-9c7a-3be7afd69e3f"/></links></g>
<!-- task_41b8306b&#45;18ed&#45;42c2&#45;bf89&#45;ed4ef2e53abd -->
<g id="task_41b8306b-18ed-42c2-bf89-ed4ef2e53abd" class="node">
<title>task_41b8306b-18ed-42c2-bf89-ed4ef2e53abd</title>
<polygon fill="none" stroke="black" points="1688.3,-1935.79 1688.3,-1950.7 1552.22,-1961.25 1359.77,-1961.25 1223.69,-1950.7 1223.69,-1935.79 1359.77,-1925.25 1552.22,-1925.25 1688.3,-1935.79"/>
<text text-anchor="middle" x="1456" y="-1939.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove pg_exporter service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_41b8306b&#45;18ed&#45;42c2&#45;bf89&#45;ed4ef2e53abd -->
<g id="edge_ccbf1030-5524-4fae-b528-e32337c64a80" class="edge">
<title>[role] remove-&gt;task_41b8306b-18ed-42c2-bf89-ed4ef2e53abd</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.62,-1286.37C467.93,-1387.31 491.26,-1877.14 539.68,-1921.25 589.86,-1966.97 980.71,-1961.46 1235.19,-1952.74"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1235.44,-1956.23 1245.32,-1952.39 1235.2,-1949.24 1235.44,-1956.23"/>
<text text-anchor="middle" x="845.68" y="-1962.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">11  [when: service_registry == 'consul']</text>
<links><link target="task_41b8306b-18ed-42c2-bf89-ed4ef2e53abd"/></links></g>
<!-- task_d3f4ed7b&#45;6560&#45;4190&#45;a39c&#45;0cffc039d7c4 -->
<g id="task_d3f4ed7b-6560-4190-a39c-0cffc039d7c4" class="node">
<title>task_d3f4ed7b-6560-4190-a39c-0cffc039d7c4</title>
<polygon fill="none" stroke="black" points="1681.64,-1881.79 1681.64,-1896.7 1549.46,-1907.25 1362.53,-1907.25 1230.36,-1896.7 1230.36,-1881.79 1362.53,-1871.25 1549.46,-1871.25 1681.64,-1881.79"/>
<text text-anchor="middle" x="1456" y="-1885.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload consul to dereigster pg_exporter</text>
</g>
<!-- [role] remove&#45;&gt;task_d3f4ed7b&#45;6560&#45;4190&#45;a39c&#45;0cffc039d7c4 -->
<g id="edge_4b0bff11-9f45-4bc1-b5a9-88ddb42b811f" class="edge">
<title>[role] remove-&gt;task_d3f4ed7b-6560-4190-a39c-0cffc039d7c4</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.83,-1286.42C468.99,-1382.38 495.24,-1827.19 539.68,-1867.25 590.32,-1912.9 984.26,-1907.24 1238.57,-1898.54"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1238.81,-1902.04 1248.68,-1898.19 1238.57,-1895.04 1238.81,-1902.04"/>
<text text-anchor="middle" x="845.68" y="-1908.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">12  [when: service_registry == 'consul']</text>
<links><link target="task_d3f4ed7b-6560-4190-a39c-0cffc039d7c4"/></links></g>
<!-- task_3c7d4ea9&#45;2356&#45;430f&#45;8de8&#45;dc7520687277 -->
<g id="task_3c7d4ea9-2356-430f-8de8-dc7520687277" class="node">
<title>task_3c7d4ea9-2356-430f-8de8-dc7520687277</title>
<polygon fill="none" stroke="black" points="1670.63,-1827.79 1670.63,-1842.7 1544.9,-1853.25 1367.09,-1853.25 1241.37,-1842.7 1241.37,-1827.79 1367.09,-1817.25 1544.9,-1817.25 1670.63,-1827.79"/>
<text text-anchor="middle" x="1456" y="-1831.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable pg_exporter service</text>
</g>
<!-- [role] remove&#45;&gt;task_3c7d4ea9&#45;2356&#45;430f&#45;8de8&#45;dc7520687277 -->
<g id="edge_4f2c9b31-4a0b-4087-a120-f934c7313043" class="edge">
<title>[role] remove-&gt;task_3c7d4ea9-2356-430f-8de8-dc7520687277</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.47,-1286.27C460.92,-1372.49 459.12,-1741.53 539.68,-1813.25 591.02,-1858.96 990.99,-1852.94 1244.94,-1844.22"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1245.16,-1847.72 1255.03,-1843.87 1244.92,-1840.72 1245.16,-1847.72"/>
<text text-anchor="middle" x="845.68" y="-1854.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">13</text>
<links><link target="task_3c7d4ea9-2356-430f-8de8-dc7520687277"/></links></g>
<!-- task_f434ec97&#45;005f&#45;4729&#45;932a&#45;5cc209cf8f3b -->
<g id="task_f434ec97-005f-4729-932a-5cc209cf8f3b" class="node">
<title>task_f434ec97-005f-4729-932a-5cc209cf8f3b</title>
<polygon fill="none" stroke="black" points="1719.21,-1773.79 1719.21,-1788.7 1565.02,-1799.25 1346.97,-1799.25 1192.78,-1788.7 1192.78,-1773.79 1346.97,-1763.25 1565.02,-1763.25 1719.21,-1773.79"/>
<text text-anchor="middle" x="1456" y="-1777.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove pgbouncer_exporter service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_f434ec97&#45;005f&#45;4729&#45;932a&#45;5cc209cf8f3b -->
<g id="edge_824b6d75-0c72-4769-830f-e5e792e49673" class="edge">
<title>[role] remove-&gt;task_f434ec97-005f-4729-932a-5cc209cf8f3b</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.78,-1286.36C462.72,-1367.4 467.02,-1695.54 539.68,-1759.25 589.27,-1802.73 959.29,-1799.08 1213.41,-1791.13"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1213.64,-1794.63 1223.53,-1790.81 1213.42,-1787.63 1213.64,-1794.63"/>
<text text-anchor="middle" x="845.68" y="-1799.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">14  [when: service_registry == 'consul']</text>
<links><link target="task_f434ec97-005f-4729-932a-5cc209cf8f3b"/></links></g>
<!-- task_a82bbf30&#45;c93b&#45;464d&#45;84dd&#45;c8888b764439 -->
<g id="task_a82bbf30-c93b-464d-84dd-c8888b764439" class="node">
<title>task_a82bbf30-c93b-464d-84dd-c8888b764439</title>
<polygon fill="none" stroke="black" points="1712.55,-1719.79 1712.55,-1734.7 1562.26,-1745.25 1349.73,-1745.25 1199.45,-1734.7 1199.45,-1719.79 1349.73,-1709.25 1562.26,-1709.25 1712.55,-1719.79"/>
<text text-anchor="middle" x="1456" y="-1723.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload consul to dereigster pgbouncer_exporter</text>
</g>
<!-- [role] remove&#45;&gt;task_a82bbf30&#45;c93b&#45;464d&#45;84dd&#45;c8888b764439 -->
<g id="edge_ffd872cb-0a53-4030-9fa8-2c3f050b427f" class="edge">
<title>[role] remove-&gt;task_a82bbf30-c93b-464d-84dd-c8888b764439</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.16,-1286.33C464.75,-1361.58 475.02,-1648.59 539.68,-1704.25 589.64,-1747.26 959.29,-1744.18 1213.27,-1736.69"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1213.49,-1740.18 1223.38,-1736.39 1213.28,-1733.19 1213.49,-1740.18"/>
<text text-anchor="middle" x="845.68" y="-1744.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">15  [when: service_registry == 'consul']</text>
<links><link target="task_a82bbf30-c93b-464d-84dd-c8888b764439"/></links></g>
<!-- task_00677b62&#45;d93e&#45;4d1b&#45;9c6e&#45;88836171ec8b -->
<g id="task_00677b62-d93e-4d1b-9c6e-88836171ec8b" class="node">
<title>task_00677b62-d93e-4d1b-9c6e-88836171ec8b</title>
<polygon fill="none" stroke="black" points="1700.63,-1665.79 1700.63,-1680.7 1557.33,-1691.25 1354.67,-1691.25 1211.37,-1680.7 1211.37,-1665.79 1354.67,-1655.25 1557.33,-1655.25 1700.63,-1665.79"/>
<text text-anchor="middle" x="1456" y="-1669.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable pgbouncer_exporter service</text>
</g>
<!-- [role] remove&#45;&gt;task_00677b62&#45;d93e&#45;4d1b&#45;9c6e&#45;88836171ec8b -->
<g id="edge_5cb1ce17-7da0-4d62-91f2-5c99989c967b" class="edge">
<title>[role] remove-&gt;task_00677b62-d93e-4d1b-9c6e-88836171ec8b</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.66,-1286.37C467.05,-1355.56 482.99,-1601.59 539.68,-1649.25 590.33,-1691.83 962.39,-1689.17 1216.28,-1682.11"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1216.5,-1685.6 1226.39,-1681.82 1216.3,-1678.61 1216.5,-1685.6"/>
<text text-anchor="middle" x="845.68" y="-1689.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">16</text>
<links><link target="task_00677b62-d93e-4d1b-9c6e-88836171ec8b"/></links></g>
<!-- task_dd6562c8&#45;22dd&#45;480f&#45;8b81&#45;408cc0ee0bda -->
<g id="task_dd6562c8-22dd-480f-8b81-408cc0ee0bda" class="node">
<title>task_dd6562c8-22dd-480f-8b81-408cc0ee0bda</title>
<polygon fill="none" stroke="black" points="1697.09,-1611.79 1697.09,-1626.7 1555.86,-1637.25 1356.13,-1637.25 1214.9,-1626.7 1214.9,-1611.79 1356.13,-1601.25 1555.86,-1601.25 1697.09,-1611.79"/>
<text text-anchor="middle" x="1456" y="-1615.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove node_exporter service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_dd6562c8&#45;22dd&#45;480f&#45;8b81&#45;408cc0ee0bda -->
<g id="edge_9a3109c9-3c44-4c00-9b62-f4bd7d118f56" class="edge">
<title>[role] remove-&gt;task_dd6562c8-22dd-480f-8b81-408cc0ee0bda</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M464.33,-1286.24C469.74,-1348.57 491.02,-1553.61 539.68,-1593.25 590.59,-1634.72 957.09,-1633.49 1210.58,-1627.4"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1210.77,-1630.9 1220.68,-1627.15 1210.6,-1623.9 1210.77,-1630.9"/>
<text text-anchor="middle" x="845.68" y="-1634.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">17  [when: service_registry == 'consul']</text>
<links><link target="task_dd6562c8-22dd-480f-8b81-408cc0ee0bda"/></links></g>
<!-- task_f6d02640&#45;66dd&#45;4bb3&#45;96c3&#45;c8f604e6b05a -->
<g id="task_f6d02640-66dd-4bb3-96c3-c8f604e6b05a" class="node">
<title>task_f6d02640-66dd-4bb3-96c3-c8f604e6b05a</title>
<polygon fill="none" stroke="black" points="1690.93,-1557.79 1690.93,-1572.7 1553.31,-1583.25 1358.68,-1583.25 1221.06,-1572.7 1221.06,-1557.79 1358.68,-1547.25 1553.31,-1547.25 1690.93,-1557.79"/>
<text text-anchor="middle" x="1456" y="-1561.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload consul to dereigster node_exporter</text>
</g>
<!-- [role] remove&#45;&gt;task_f6d02640&#45;66dd&#45;4bb3&#45;96c3&#45;c8f604e6b05a -->
<g id="edge_8eeb3cbc-7f7a-42c6-ac97-258a6ac1fcf4" class="edge">
<title>[role] remove-&gt;task_f6d02640-66dd-4bb3-96c3-c8f604e6b05a</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M465.31,-1286.55C473.05,-1341.9 499.06,-1505.62 539.68,-1537.25 591.49,-1577.6 957.72,-1577.52 1210.92,-1572.4"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1211.08,-1575.9 1221.01,-1572.19 1210.94,-1568.9 1211.08,-1575.9"/>
<text text-anchor="middle" x="845.68" y="-1578.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">18  [when: service_registry == 'consul']</text>
<links><link target="task_f6d02640-66dd-4bb3-96c3-c8f604e6b05a"/></links></g>
<!-- task_462da65f&#45;06d4&#45;4c77&#45;aaa4&#45;de6033de1d57 -->
<g id="task_462da65f-06d4-4c77-aaa4-de6033de1d57" class="node">
<title>task_462da65f-06d4-4c77-aaa4-de6033de1d57</title>
<polygon fill="none" stroke="black" points="1679.01,-1503.79 1679.01,-1518.7 1548.37,-1529.25 1363.62,-1529.25 1232.98,-1518.7 1232.98,-1503.79 1363.62,-1493.25 1548.37,-1493.25 1679.01,-1503.79"/>
<text text-anchor="middle" x="1456" y="-1507.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable node_exporter service</text>
</g>
<!-- [role] remove&#45;&gt;task_462da65f&#45;06d4&#45;4c77&#45;aaa4&#45;de6033de1d57 -->
<g id="edge_80cb4f0e-5cec-476c-a1ee-fd96fc080de3" class="edge">
<title>[role] remove-&gt;task_462da65f-06d4-4c77-aaa4-de6033de1d57</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.08,-1286.53C464.66,-1329.22 475.2,-1435.34 539.68,-1482.25 593.58,-1521.46 969.64,-1521.74 1222.65,-1517.27"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1222.79,-1520.77 1232.73,-1517.09 1222.67,-1513.77 1222.79,-1520.77"/>
<text text-anchor="middle" x="845.68" y="-1522.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">19</text>
<links><link target="task_462da65f-06d4-4c77-aaa4-de6033de1d57"/></links></g>
<!-- task_c946f824&#45;0317&#45;4b02&#45;85d7&#45;22a902965043 -->
<g id="task_c946f824-0317-4b02-85d7-22a902965043" class="node">
<title>task_c946f824-0317-4b02-85d7-22a902965043</title>
<polygon fill="none" stroke="black" points="1657.4,-1449.79 1657.4,-1464.7 1539.42,-1475.25 1372.58,-1475.25 1254.6,-1464.7 1254.6,-1449.79 1372.58,-1439.25 1539.42,-1439.25 1657.4,-1449.79"/>
<text text-anchor="middle" x="1456" y="-1453.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable promtail service</text>
</g>
<!-- [role] remove&#45;&gt;task_c946f824&#45;0317&#45;4b02&#45;85d7&#45;22a902965043 -->
<g id="edge_05a5048a-1478-4553-a5c0-9633db3deea0" class="edge">
<title>[role] remove-&gt;task_c946f824-0317-4b02-85d7-22a902965043</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M465.36,-1286.23C471.2,-1320.88 489.36,-1396.41 539.68,-1429.25 597.1,-1466.72 992.77,-1466.4 1244.74,-1462.21"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1244.83,-1465.71 1254.77,-1462.04 1244.71,-1458.71 1244.83,-1465.71"/>
<text text-anchor="middle" x="845.68" y="-1467.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">20</text>
<links><link target="task_c946f824-0317-4b02-85d7-22a902965043"/></links></g>
<!-- task_5741fa86&#45;0862&#45;4f45&#45;a723&#45;1d2efb240367 -->
<g id="task_5741fa86-0862-4f45-a723-1d2efb240367" class="node">
<title>task_5741fa86-0862-4f45-a723-1d2efb240367</title>
<polygon fill="none" stroke="black" points="1682.55,-1395.79 1682.55,-1410.7 1549.84,-1421.25 1362.16,-1421.25 1229.45,-1410.7 1229.45,-1395.79 1362.16,-1385.25 1549.84,-1385.25 1682.55,-1395.79"/>
<text text-anchor="middle" x="1456" y="-1399.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove pgbouncer service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_5741fa86&#45;0862&#45;4f45&#45;a723&#45;1d2efb240367 -->
<g id="edge_0f8e3fa7-ca2c-4091-a39e-2b51bfec7bc4" class="edge">
<title>[role] remove-&gt;task_5741fa86-0862-4f45-a723-1d2efb240367</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M469.09,-1286.37C479.2,-1312.72 501.98,-1360.7 539.68,-1381.25 597.8,-1412.92 967.87,-1412.69 1219.29,-1408.66"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1219.36,-1412.16 1229.3,-1408.5 1219.25,-1405.16 1219.36,-1412.16"/>
<text text-anchor="middle" x="845.68" y="-1414.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">21  [when: service_registry == 'consul']</text>
<links><link target="task_5741fa86-0862-4f45-a723-1d2efb240367"/></links></g>
<!-- task_ceeae77e&#45;fbb3&#45;4463&#45;9067&#45;a1de6b00af61 -->
<g id="task_ceeae77e-fbb3-4463-9067-a1de6b00af61" class="node">
<title>task_ceeae77e-fbb3-4463-9067-a1de6b00af61</title>
<polygon fill="none" stroke="black" points="1676.38,-1341.79 1676.38,-1356.7 1547.28,-1367.25 1364.71,-1367.25 1235.61,-1356.7 1235.61,-1341.79 1364.71,-1331.25 1547.28,-1331.25 1676.38,-1341.79"/>
<text text-anchor="middle" x="1456" y="-1345.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload consul to dereigster pgbouncer</text>
</g>
<!-- [role] remove&#45;&gt;task_ceeae77e&#45;fbb3&#45;4463&#45;9067&#45;a1de6b00af61 -->
<g id="edge_56d3f23f-8fd0-4d00-bb8a-1b7cc3143d49" class="edge">
<title>[role] remove-&gt;task_ceeae77e-fbb3-4463-9067-a1de6b00af61</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M489.59,-1284.4C503.91,-1292.19 522.18,-1300.81 539.68,-1305.25 789.9,-1368.74 1090.66,-1369.42 1277.36,-1361.41"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1277.71,-1364.9 1287.54,-1360.96 1277.4,-1357.9 1277.71,-1364.9"/>
<text text-anchor="middle" x="845.68" y="-1368.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">22  [when: service_registry == 'consul']</text>
<links><link target="task_ceeae77e-fbb3-4463-9067-a1de6b00af61"/></links></g>
<!-- task_a4b669eb&#45;1ca0&#45;428c&#45;9da3&#45;802b57757236 -->
<g id="task_a4b669eb-1ca0-428c-9da3-802b57757236" class="node">
<title>task_a4b669eb-1ca0-428c-9da3-802b57757236</title>
<polygon fill="none" stroke="black" points="1664.47,-1287.79 1664.47,-1302.7 1542.35,-1313.25 1369.65,-1313.25 1247.53,-1302.7 1247.53,-1287.79 1369.65,-1277.25 1542.35,-1277.25 1664.47,-1287.79"/>
<text text-anchor="middle" x="1456" y="-1291.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable pgbouncer service</text>
</g>
<!-- [role] remove&#45;&gt;task_a4b669eb&#45;1ca0&#45;428c&#45;9da3&#45;802b57757236 -->
<g id="edge_ff2e8825-b1b1-4033-82ff-12b82e26c3d0" class="edge">
<title>[role] remove-&gt;task_a4b669eb-1ca0-428c-9da3-802b57757236</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M521.6,-1269.84C659.06,-1273.59 1007.47,-1283.07 1237.54,-1289.33"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1237.63,-1292.83 1247.73,-1289.61 1237.83,-1285.83 1237.63,-1292.83"/>
<text text-anchor="middle" x="845.68" y="-1290.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">23</text>
<links><link target="task_a4b669eb-1ca0-428c-9da3-802b57757236"/></links></g>
<!-- task_70575e49&#45;9c32&#45;47bb&#45;8b02&#45;c65b96fdc568 -->
<g id="task_70575e49-9c32-47bb-8b02-c65b96fdc568" class="node">
<title>task_70575e49-9c32-47bb-8b02-c65b96fdc568</title>
<polygon fill="none" stroke="black" points="1602.15,-1233.79 1602.15,-1248.7 1516.54,-1259.25 1395.46,-1259.25 1309.84,-1248.7 1309.84,-1233.79 1395.46,-1223.25 1516.54,-1223.25 1602.15,-1233.79"/>
<text text-anchor="middle" x="1456" y="-1237.55" font-family="Times,serif" font-size="14.00">[task] remove : Get actuall pg_role</text>
</g>
<!-- [role] remove&#45;&gt;task_70575e49&#45;9c32&#45;47bb&#45;8b02&#45;c65b96fdc568 -->
<g id="edge_c5e7e611-dbfe-4598-81eb-017d13325b8f" class="edge">
<title>[role] remove-&gt;task_70575e49-9c32-47bb-8b02-c65b96fdc568</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M508.1,-1256.61C518.41,-1254.41 529.37,-1252.43 539.68,-1251.25 805.61,-1220.69 1117.86,-1226.02 1300.34,-1233.23"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1300.42,-1236.74 1310.55,-1233.64 1300.7,-1229.74 1300.42,-1236.74"/>
<text text-anchor="middle" x="845.68" y="-1255.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">24</text>
<links><link target="task_70575e49-9c32-47bb-8b02-c65b96fdc568"/></links></g>
<!-- task_7c79b1e4&#45;99c0&#45;4a8a&#45;bae0&#45;2286b35854b1 -->
<g id="task_7c79b1e4-99c0-4a8a-bae0-2286b35854b1" class="node">
<title>task_7c79b1e4-99c0-4a8a-bae0-2286b35854b1</title>
<polygon fill="none" stroke="black" points="1619.82,-1179.79 1619.82,-1194.7 1523.86,-1205.25 1388.14,-1205.25 1292.17,-1194.7 1292.17,-1179.79 1388.14,-1169.25 1523.86,-1169.25 1619.82,-1179.79"/>
<text text-anchor="middle" x="1456" y="-1183.55" font-family="Times,serif" font-size="14.00">[task] remove : Get pg_role from result</text>
</g>
<!-- [role] remove&#45;&gt;task_7c79b1e4&#45;99c0&#45;4a8a&#45;bae0&#45;2286b35854b1 -->
<g id="edge_d1731d1a-a1bd-4387-beea-90ca7555d9ec" class="edge">
<title>[role] remove-&gt;task_7c79b1e4-99c0-4a8a-bae0-2286b35854b1</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M478.61,-1250.87C492.93,-1236.43 515.46,-1216.9 539.68,-1208.25 672.72,-1160.72 1062.36,-1169.07 1288.08,-1178.62"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1288.23,-1182.13 1298.37,-1179.06 1288.53,-1175.13 1288.23,-1182.13"/>
<text text-anchor="middle" x="845.68" y="-1212.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">25</text>
<links><link target="task_7c79b1e4-99c0-4a8a-bae0-2286b35854b1"/></links></g>
<!-- task_ccd7c65b&#45;4cc7&#45;4f94&#45;8b67&#45;7edc8fb6d64e -->
<g id="task_ccd7c65b-4cc7-4f94-8b67-7edc8fb6d64e" class="node">
<title>task_ccd7c65b-4cc7-4f94-8b67-7edc8fb6d64e</title>
<polygon fill="none" stroke="black" points="1622.95,-1125.79 1622.95,-1140.7 1525.15,-1151.25 1386.84,-1151.25 1289.04,-1140.7 1289.04,-1125.79 1386.84,-1115.25 1525.15,-1115.25 1622.95,-1125.79"/>
<text text-anchor="middle" x="1456" y="-1129.55" font-family="Times,serif" font-size="14.00">[task] remove : Set pg_role if applicable</text>
</g>
<!-- [role] remove&#45;&gt;task_ccd7c65b&#45;4cc7&#45;4f94&#45;8b67&#45;7edc8fb6d64e -->
<g id="edge_a4f74c5a-ffe9-451a-b36a-8a09cda5070c" class="edge">
<title>[role] remove-&gt;task_ccd7c65b-4cc7-4f94-8b67-7edc8fb6d64e</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M468.72,-1249.93C478.49,-1222.75 500.97,-1172.63 539.68,-1151.25 669.49,-1079.51 1096.51,-1102.81 1318.39,-1120.69"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1318.23,-1124.19 1328.48,-1121.52 1318.79,-1117.22 1318.23,-1124.19"/>
<text text-anchor="middle" x="845.68" y="-1155.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">26  [when: pg_role_detected == 'primary' or pg_role_detected == 'replica']</text>
<links><link target="task_ccd7c65b-4cc7-4f94-8b67-7edc8fb6d64e"/></links></g>
<!-- task_0399dd2d&#45;0bf1&#45;4386&#45;a406&#45;3d8313214e5a -->
<g id="task_0399dd2d-0bf1-4386-a406-3d8313214e5a" class="node">
<title>task_0399dd2d-0bf1-4386-a406-3d8313214e5a</title>
<polygon fill="none" stroke="black" points="1708.6,-1071.79 1708.6,-1086.7 1560.63,-1097.25 1351.36,-1097.25 1203.39,-1086.7 1203.39,-1071.79 1351.36,-1061.25 1560.63,-1061.25 1708.6,-1071.79"/>
<text text-anchor="middle" x="1456" y="-1075.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove follower postgres service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_0399dd2d&#45;0bf1&#45;4386&#45;a406&#45;3d8313214e5a -->
<g id="edge_81168969-ef34-4699-a71e-7ee65b6631a3" class="edge">
<title>[role] remove-&gt;task_0399dd2d-0bf1-4386-a406-3d8313214e5a</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M464.12,-1249.97C467.83,-1211.3 482.49,-1121.6 539.68,-1083.25 596.33,-1045.25 988.76,-1056.42 1241.06,-1067.9"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1240.94,-1071.4 1251.09,-1068.36 1241.26,-1064.41 1240.94,-1071.4"/>
<text text-anchor="middle" x="845.68" y="-1087.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">27  [when: pg_role != 'primary'service_registry == 'consul']</text>
<links><link target="task_0399dd2d-0bf1-4386-a406-3d8313214e5a"/></links></g>
<!-- task_77b0373f&#45;6a53&#45;427c&#45;9271&#45;26a992624481 -->
<g id="task_77b0373f-6a53-427c-9271-26a992624481" class="node">
<title>task_77b0373f-6a53-427c-9271-26a992624481</title>
<polygon fill="none" stroke="black" points="1704.16,-1017.79 1704.16,-1032.7 1558.79,-1043.25 1353.2,-1043.25 1207.83,-1032.7 1207.83,-1017.79 1353.2,-1007.25 1558.79,-1007.25 1704.16,-1017.79"/>
<text text-anchor="middle" x="1456" y="-1021.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove follower patroni service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_77b0373f&#45;6a53&#45;427c&#45;9271&#45;26a992624481 -->
<g id="edge_221fdbb4-4e14-4b02-922c-b6a1cf10cbe4" class="edge">
<title>[role] remove-&gt;task_77b0373f-6a53-427c-9271-26a992624481</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.48,-1250.16C462.6,-1205.18 469.92,-1088.27 539.68,-1037.25 594.15,-997.41 979.29,-1005.15 1232.32,-1014.88"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1232.26,-1018.38 1242.39,-1015.27 1232.53,-1011.38 1232.26,-1018.38"/>
<text text-anchor="middle" x="845.68" y="-1041.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">28  [when: pg_role != 'primary'service_registry == 'consul']</text>
<links><link target="task_77b0373f-6a53-427c-9271-26a992624481"/></links></g>
<!-- task_0a416f62&#45;55b8&#45;4940&#45;a47a&#45;0bf789c1db9c -->
<g id="task_0a416f62-55b8-4940-a47a-0bf789c1db9c" class="node">
<title>task_0a416f62-55b8-4940-a47a-0bf789c1db9c</title>
<polygon fill="none" stroke="black" points="1742.14,-963.79 1742.14,-978.7 1574.52,-989.25 1337.47,-989.25 1169.85,-978.7 1169.85,-963.79 1337.47,-953.25 1574.52,-953.25 1742.14,-963.79"/>
<text text-anchor="middle" x="1456" y="-967.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</g>
<!-- [role] remove&#45;&gt;task_0a416f62&#45;55b8&#45;4940&#45;a47a&#45;0bf789c1db9c -->
<g id="edge_827a0d4a-6934-487e-90bc-b64ee481de7a" class="edge">
<title>[role] remove-&gt;task_0a416f62-55b8-4940-a47a-0bf789c1db9c</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M465.05,-1249.92C472.23,-1192.88 497.15,-1020.3 539.68,-987.25 591.2,-947.2 953.37,-951.95 1206.38,-960.5"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1206.35,-964 1216.46,-960.85 1206.59,-957.01 1206.35,-964"/>
<text text-anchor="middle" x="845.68" y="-991.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">29  [when: pg_role != 'primary'service_registry == 'consul']</text>
<links><link target="task_0a416f62-55b8-4940-a47a-0bf789c1db9c"/></links></g>
<!-- task_adeb4cee&#45;b36b&#45;49c8&#45;ba6c&#45;c9f87df089d7 -->
<g id="task_adeb4cee-b36b-49c8-ba6c-c9f87df089d7" class="node">
<title>task_adeb4cee-b36b-49c8-ba6c-c9f87df089d7</title>
<polygon fill="none" stroke="black" points="1686.08,-909.79 1686.08,-924.7 1551.3,-935.25 1360.69,-935.25 1225.91,-924.7 1225.91,-909.79 1360.69,-899.25 1551.3,-899.25 1686.08,-909.79"/>
<text text-anchor="middle" x="1456" y="-913.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable follower patroni service</text>
</g>
<!-- [role] remove&#45;&gt;task_adeb4cee&#45;b36b&#45;49c8&#45;ba6c&#45;c9f87df089d7 -->
<g id="edge_33f0edb2-cf11-4136-b92c-3c51d39a9b52" class="edge">
<title>[role] remove-&gt;task_adeb4cee-b36b-49c8-ba6c-c9f87df089d7</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M464.21,-1250.24C469.27,-1186.88 489.7,-975.82 539.68,-935.25 592.47,-892.38 983.8,-898.79 1237.4,-907.74"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1237.37,-911.24 1247.49,-908.1 1237.62,-904.25 1237.37,-911.24"/>
<text text-anchor="middle" x="845.68" y="-939.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">30  [when: pg_role != 'primary']</text>
<links><link target="task_adeb4cee-b36b-49c8-ba6c-c9f87df089d7"/></links></g>
<!-- task_80892d2e&#45;0e85&#45;4d5c&#45;b10f&#45;113e0bbb52f8 -->
<g id="task_80892d2e-0e85-4d5c-b10f-113e0bbb52f8" class="node">
<title>task_80892d2e-0e85-4d5c-b10f-113e0bbb52f8</title>
<polygon fill="none" stroke="black" points="1690.93,-855.79 1690.93,-870.7 1553.31,-881.25 1358.68,-881.25 1221.06,-870.7 1221.06,-855.79 1358.68,-845.25 1553.31,-845.25 1690.93,-855.79"/>
<text text-anchor="middle" x="1456" y="-859.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable follower postgres service</text>
</g>
<!-- [role] remove&#45;&gt;task_80892d2e&#45;0e85&#45;4d5c&#45;b10f&#45;113e0bbb52f8 -->
<g id="edge_ced54f72-51fd-4d6a-ac4b-b67b744ccca5" class="edge">
<title>[role] remove-&gt;task_80892d2e-0e85-4d5c-b10f-113e0bbb52f8</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.6,-1249.83C466.79,-1179.52 482.05,-929.52 539.68,-881.25 591.75,-837.62 982.51,-844.24 1236.35,-853.45"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1236.33,-856.95 1246.45,-853.82 1236.59,-849.95 1236.33,-856.95"/>
<text text-anchor="middle" x="845.68" y="-885.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">31  [when: pg_role != 'primary']</text>
<links><link target="task_80892d2e-0e85-4d5c-b10f-113e0bbb52f8"/></links></g>
<!-- task_7a84932f&#45;9c61&#45;4d0e&#45;98c4&#45;f34e88cc8cfe -->
<g id="task_7a84932f-9c61-4d0e-98c4-f34e88cc8cfe" class="node">
<title>task_7a84932f-9c61-4d0e-98c4-f34e88cc8cfe</title>
<polygon fill="none" stroke="black" points="1659.12,-801.79 1659.12,-816.7 1540.13,-827.25 1371.86,-827.25 1252.88,-816.7 1252.88,-801.79 1371.86,-791.25 1540.13,-791.25 1659.12,-801.79"/>
<text text-anchor="middle" x="1456" y="-805.55" font-family="Times,serif" font-size="14.00">[task] remove : Force follower postgres shutdown</text>
</g>
<!-- [role] remove&#45;&gt;task_7a84932f&#45;9c61&#45;4d0e&#45;98c4&#45;f34e88cc8cfe -->
<g id="edge_f4e0fbd9-8de0-44c8-8680-307c4af54bd4" class="edge">
<title>[role] remove-&gt;task_7a84932f-9c61-4d0e-98c4-f34e88cc8cfe</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.12,-1250.2C464.51,-1174.46 474.13,-883.48 539.68,-827.25 592.73,-781.74 1005.01,-790.27 1257.82,-800.06"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1257.74,-803.56 1267.87,-800.46 1258.01,-796.57 1257.74,-803.56"/>
<text text-anchor="middle" x="845.68" y="-831.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">32  [when: pg_role != 'primary']</text>
<links><link target="task_7a84932f-9c61-4d0e-98c4-f34e88cc8cfe"/></links></g>
<!-- task_24a7f800&#45;3b31&#45;4560&#45;8d39&#45;abccc0e57a62 -->
<g id="task_24a7f800-3b31-4560-8d39-abccc0e57a62" class="node">
<title>task_24a7f800-3b31-4560-8d39-abccc0e57a62</title>
<polygon fill="none" stroke="black" points="1700.22,-747.79 1700.22,-762.7 1557.16,-773.25 1354.84,-773.25 1211.77,-762.7 1211.77,-747.79 1354.84,-737.25 1557.16,-737.25 1700.22,-747.79"/>
<text text-anchor="middle" x="1456" y="-751.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove leader postgres service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_24a7f800&#45;3b31&#45;4560&#45;8d39&#45;abccc0e57a62 -->
<g id="edge_b1b18a4d-9779-4a9a-b648-adf3fe925918" class="edge">
<title>[role] remove-&gt;task_24a7f800-3b31-4560-8d39-abccc0e57a62</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.74,-1249.98C462.55,-1168.26 466.34,-837.35 539.68,-773.25 590.68,-728.67 979.64,-735.48 1233.84,-745"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1233.83,-748.51 1243.96,-745.39 1234.1,-741.51 1233.83,-748.51"/>
<text text-anchor="middle" x="845.68" y="-777.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">33  [when: pg_role == 'primary'service_registry == 'consul']</text>
<links><link target="task_24a7f800-3b31-4560-8d39-abccc0e57a62"/></links></g>
<!-- task_beb5f24d&#45;cc8d&#45;4f2d&#45;9abe&#45;0aa59f08759f -->
<g id="task_beb5f24d-cc8d-4f2d-9abe-0aa59f08759f" class="node">
<title>task_beb5f24d-cc8d-4f2d-9abe-0aa59f08759f</title>
<polygon fill="none" stroke="black" points="1695.37,-693.79 1695.37,-708.7 1555.15,-719.25 1356.84,-719.25 1216.62,-708.7 1216.62,-693.79 1356.84,-683.25 1555.15,-683.25 1695.37,-693.79"/>
<text text-anchor="middle" x="1456" y="-697.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove leader patroni service from consul</text>
</g>
<!-- [role] remove&#45;&gt;task_beb5f24d&#45;cc8d&#45;4f2d&#45;9abe&#45;0aa59f08759f -->
<g id="edge_a8253d6f-a134-421b-9868-8a14ae49f7d5" class="edge">
<title>[role] remove-&gt;task_beb5f24d-cc8d-4f2d-9abe-0aa59f08759f</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.43,-1250.05C460.71,-1163.01 458.24,-790.44 539.68,-718.25 590.77,-672.95 985.64,-680.8 1239.78,-690.86"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1239.76,-694.36 1249.89,-691.27 1240.04,-687.37 1239.76,-694.36"/>
<text text-anchor="middle" x="845.68" y="-722.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">34  [when: pg_role == 'primary'service_registry == 'consul']</text>
<links><link target="task_beb5f24d-cc8d-4f2d-9abe-0aa59f08759f"/></links></g>
<!-- task_25b0a0be&#45;4929&#45;428b&#45;b00a&#45;71351e837d9d -->
<g id="task_25b0a0be-4929-428b-b00a-71351e837d9d" class="node">
<title>task_25b0a0be-4929-428b-b00a-71351e837d9d</title>
<polygon fill="none" stroke="black" points="1733.76,-639.79 1733.76,-654.7 1571.05,-665.25 1340.95,-665.25 1178.24,-654.7 1178.24,-639.79 1340.95,-629.25 1571.05,-629.25 1733.76,-639.79"/>
<text text-anchor="middle" x="1456" y="-643.55" font-family="Times,serif" font-size="14.00">[task] remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</g>
<!-- [role] remove&#45;&gt;task_25b0a0be&#45;4929&#45;428b&#45;b00a&#45;71351e837d9d -->
<g id="edge_af56ae0f-b25a-429c-af2d-95cf4a65aebe" class="edge">
<title>[role] remove-&gt;task_25b0a0be-4929-428b-b00a-71351e837d9d</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.79,-1250.2C468.82,-1153.92 494.65,-703.63 539.68,-663.25 589.39,-618.66 968.34,-625.72 1222.8,-635.83"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1222.8,-639.34 1232.94,-636.24 1223.08,-632.34 1222.8,-639.34"/>
<text text-anchor="middle" x="845.68" y="-667.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">35  [when: pg_role == 'primary'service_registry == 'consul']</text>
<links><link target="task_25b0a0be-4929-428b-b00a-71351e837d9d"/></links></g>
<!-- task_d44d9c06&#45;471b&#45;4ddf&#45;a09e&#45;46d5c7fe2c35 -->
<g id="task_d44d9c06-471b-4ddf-a09e-46d5c7fe2c35" class="node">
<title>task_d44d9c06-471b-4ddf-a09e-46d5c7fe2c35</title>
<polygon fill="none" stroke="black" points="1676.79,-585.79 1676.79,-600.7 1547.45,-611.25 1364.54,-611.25 1235.2,-600.7 1235.2,-585.79 1364.54,-575.25 1547.45,-575.25 1676.79,-585.79"/>
<text text-anchor="middle" x="1456" y="-589.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable leader patroni service</text>
</g>
<!-- [role] remove&#45;&gt;task_d44d9c06&#45;471b&#45;4ddf&#45;a09e&#45;46d5c7fe2c35 -->
<g id="edge_fed9288e-3a7a-4b8f-83cf-1c6a1f221602" class="edge">
<title>[role] remove-&gt;task_d44d9c06-471b-4ddf-a09e-46d5c7fe2c35</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.61,-1249.95C467.82,-1148.06 490.7,-653.62 539.68,-609.25 591.22,-562.55 1000.19,-572.23 1253.71,-583.02"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1253.65,-586.52 1263.79,-583.46 1253.95,-579.53 1253.65,-586.52"/>
<text text-anchor="middle" x="845.68" y="-613.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">36  [when: pg_role == 'primary']</text>
<links><link target="task_d44d9c06-471b-4ddf-a09e-46d5c7fe2c35"/></links></g>
<!-- task_5f7b5311&#45;2351&#45;4b49&#45;867e&#45;b4360df9e38b -->
<g id="task_5f7b5311-2351-4b49-867e-b4360df9e38b" class="node">
<title>task_5f7b5311-2351-4b49-867e-b4360df9e38b</title>
<polygon fill="none" stroke="black" points="1681.64,-531.79 1681.64,-546.7 1549.46,-557.25 1362.53,-557.25 1230.36,-546.7 1230.36,-531.79 1362.53,-521.25 1549.46,-521.25 1681.64,-531.79"/>
<text text-anchor="middle" x="1456" y="-535.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable leader postgres service</text>
</g>
<!-- [role] remove&#45;&gt;task_5f7b5311&#45;2351&#45;4b49&#45;867e&#45;b4360df9e38b -->
<g id="edge_6a2dc7fb-eaac-4df0-bee6-1ee46fd046b6" class="edge">
<title>[role] remove-&gt;task_5f7b5311-2351-4b49-867e-b4360df9e38b</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.43,-1250.19C466.81,-1143.91 486.57,-602.74 539.68,-554.25 591,-507.38 999.49,-517.56 1253.12,-528.7"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1253.06,-532.2 1263.2,-529.15 1253.37,-525.21 1253.06,-532.2"/>
<text text-anchor="middle" x="845.68" y="-558.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">37  [when: pg_role == 'primary']</text>
<links><link target="task_5f7b5311-2351-4b49-867e-b4360df9e38b"/></links></g>
<!-- task_afeba67e&#45;4b33&#45;4794&#45;bd13&#45;f32afcc36b91 -->
<g id="task_afeba67e-4b33-4794-bd13-f32afcc36b91" class="node">
<title>task_afeba67e-4b33-4794-bd13-f32afcc36b91</title>
<polygon fill="none" stroke="black" points="1650.33,-477.79 1650.33,-492.7 1536.49,-503.25 1375.5,-503.25 1261.67,-492.7 1261.67,-477.79 1375.5,-467.25 1536.49,-467.25 1650.33,-477.79"/>
<text text-anchor="middle" x="1456" y="-481.55" font-family="Times,serif" font-size="14.00">[task] remove : Force leader postgres shutdown</text>
</g>
<!-- [role] remove&#45;&gt;task_afeba67e&#45;4b33&#45;4794&#45;bd13&#45;f32afcc36b91 -->
<g id="edge_d27d6cd3-266c-4c56-9567-64c84c0caac1" class="edge">
<title>[role] remove-&gt;task_afeba67e-4b33-4794-bd13-f32afcc36b91</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.29,-1249.93C465.95,-1138.33 482.6,-552.75 539.68,-500.25 592.08,-452.03 1019.77,-463.98 1271.56,-475.48"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1271.41,-478.97 1281.56,-475.94 1271.73,-471.98 1271.41,-478.97"/>
<text text-anchor="middle" x="845.68" y="-504.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">38  [when: pg_role == 'primary'pg_role != 'primary']</text>
<links><link target="task_afeba67e-4b33-4794-bd13-f32afcc36b91"/></links></g>
<!-- task_baa3ba92&#45;2789&#45;4f49&#45;9f7a&#45;d1e54d385a3d -->
<g id="task_baa3ba92-2789-4f49-9f7a-d1e54d385a3d" class="node">
<title>task_baa3ba92-2789-4f49-9f7a-d1e54d385a3d</title>
<polygon fill="none" stroke="black" points="1700.63,-423.79 1700.63,-438.7 1557.33,-449.25 1354.67,-449.25 1211.37,-438.7 1211.37,-423.79 1354.67,-413.25 1557.33,-413.25 1700.63,-423.79"/>
<text text-anchor="middle" x="1456" y="-427.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove consul metadata about pgsql cluster</text>
</g>
<!-- [role] remove&#45;&gt;task_baa3ba92&#45;2789&#45;4f49&#45;9f7a&#45;d1e54d385a3d -->
<g id="edge_8b353d3d-5388-429b-a441-3b6d8825598d" class="edge">
<title>[role] remove-&gt;task_baa3ba92-2789-4f49-9f7a-d1e54d385a3d</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.16,-1250.15C465.09,-1134.48 478.45,-501.89 539.68,-445.25 590.2,-398.5 991.55,-408.61 1245.74,-420.04"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1245.7,-423.54 1255.85,-420.49 1246.02,-416.54 1245.7,-423.54"/>
<text text-anchor="middle" x="845.68" y="-449.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">39  [when: pg_role == 'primary']</text>
<links><link target="task_baa3ba92-2789-4f49-9f7a-d1e54d385a3d"/></links></g>
<!-- task_31889a5f&#45;ac8f&#45;44b8&#45;8ef2&#45;3d673abe6ad5 -->
<g id="task_31889a5f-ac8f-44b8-8ef2-3d673abe6ad5" class="node">
<title>task_31889a5f-ac8f-44b8-8ef2-3d673abe6ad5</title>
<polygon fill="none" stroke="black" points="1636.19,-369.79 1636.19,-384.7 1530.63,-395.25 1381.36,-395.25 1275.81,-384.7 1275.81,-369.79 1381.36,-359.25 1530.63,-359.25 1636.19,-369.79"/>
<text text-anchor="middle" x="1456" y="-373.55" font-family="Times,serif" font-size="14.00">[task] remove : Avoid removing dcs servers</text>
</g>
<!-- [role] remove&#45;&gt;task_31889a5f&#45;ac8f&#45;44b8&#45;8ef2&#45;3d673abe6ad5 -->
<g id="edge_62d7e41a-82a9-4288-91f3-7812946de173" class="edge">
<title>[role] remove-&gt;task_31889a5f-ac8f-44b8-8ef2-3d673abe6ad5</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.05,-1250.14C464.33,-1130.09 474.43,-451.96 539.68,-391.25 592.52,-342.08 1031.32,-355.64 1281.67,-367.67"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1281.82,-371.18 1291.97,-368.17 1282.16,-364.19 1281.82,-371.18"/>
<text text-anchor="middle" x="845.68" y="-395.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">40  [when: service_registry == 'consul'inventory_hostname in dcs_servers.values() and not rm_dcs_server|bool]</text>
<links><link target="task_31889a5f-ac8f-44b8-8ef2-3d673abe6ad5"/></links></g>
<!-- task_f43d817b&#45;ca3a&#45;49f5&#45;bf56&#45;e6d5b97bd697 -->
<g id="task_f43d817b-ca3a-49f5-bf56-e6d5b97bd697" class="node">
<title>task_f43d817b-ca3a-49f5-bf56-e6d5b97bd697</title>
<polygon fill="none" stroke="black" points="1606.59,-315.79 1606.59,-330.7 1518.38,-341.25 1393.62,-341.25 1305.4,-330.7 1305.4,-315.79 1393.62,-305.25 1518.38,-305.25 1606.59,-315.79"/>
<text text-anchor="middle" x="1456" y="-319.55" font-family="Times,serif" font-size="14.00">[task] remove : Consul leave cluster</text>
</g>
<!-- [role] remove&#45;&gt;task_f43d817b&#45;ca3a&#45;49f5&#45;bf56&#45;e6d5b97bd697 -->
<g id="edge_b5707c3f-0acb-4e6e-9e90-3ea9b483644f" class="edge">
<title>[role] remove-&gt;task_f43d817b-ca3a-49f5-bf56-e6d5b97bd697</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.95,-1250.24C463.6,-1126.24 470.38,-402.05 539.68,-337.25 593.77,-286.66 1054.44,-302.32 1300.87,-314.57"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1300.83,-318.08 1311,-315.08 1301.18,-311.09 1300.83,-318.08"/>
<text text-anchor="middle" x="845.68" y="-341.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">41  [when: service_registry == 'consul']</text>
<links><link target="task_f43d817b-ca3a-49f5-bf56-e6d5b97bd697"/></links></g>
<!-- task_2a505afa&#45;f7f7&#45;4680&#45;86d9&#45;0816fa32f983 -->
<g id="task_2a505afa-f7f7-4680-86d9-0816fa32f983" class="node">
<title>task_2a505afa-f7f7-4680-86d9-0816fa32f983</title>
<polygon fill="none" stroke="black" points="1619.82,-261.79 1619.82,-276.7 1523.86,-287.25 1388.14,-287.25 1292.17,-276.7 1292.17,-261.79 1388.14,-251.25 1523.86,-251.25 1619.82,-261.79"/>
<text text-anchor="middle" x="1456" y="-265.55" font-family="Times,serif" font-size="14.00">[task] remove : Stop and disable consul</text>
</g>
<!-- [role] remove&#45;&gt;task_2a505afa&#45;f7f7&#45;4680&#45;86d9&#45;0816fa32f983 -->
<g id="edge_6acd0816-3aeb-4f5b-a5b6-bdb94ff1f16c" class="edge">
<title>[role] remove-&gt;task_2a505afa-f7f7-4680-86d9-0816fa32f983</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.86,-1250.03C462.93,-1121.31 466.38,-352.09 539.68,-283.25 593.02,-233.14 1043.47,-247.89 1291.96,-260.11"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1292.01,-263.61 1302.17,-260.61 1292.36,-256.62 1292.01,-263.61"/>
<text text-anchor="middle" x="845.68" y="-287.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">42  [when: service_registry == 'consul']</text>
<links><link target="task_2a505afa-f7f7-4680-86d9-0816fa32f983"/></links></g>
<!-- task_749ee418&#45;b6e0&#45;4871&#45;a05e&#45;e8b745651242 -->
<g id="task_749ee418-b6e0-4871-a05e-e8b745651242" class="node">
<title>task_749ee418-b6e0-4871-a05e-e8b745651242</title>
<polygon fill="none" stroke="black" points="1649.42,-207.79 1649.42,-222.7 1536.11,-233.25 1375.88,-233.25 1262.58,-222.7 1262.58,-207.79 1375.88,-197.25 1536.11,-197.25 1649.42,-207.79"/>
<text text-anchor="middle" x="1456" y="-211.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove consul config and data</text>
</g>
<!-- [role] remove&#45;&gt;task_749ee418&#45;b6e0&#45;4871&#45;a05e&#45;e8b745651242 -->
<g id="edge_bc7902cc-fc0a-45bd-8657-615193702fcc" class="edge">
<title>[role] remove-&gt;task_749ee418-b6e0-4871-a05e-e8b745651242</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.78,-1249.87C462.26,-1116.59 462.26,-301.19 539.68,-228.25 591.8,-179.13 1024.31,-192.74 1275.7,-205.09"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1275.88,-208.6 1286.05,-205.6 1276.23,-201.61 1275.88,-208.6"/>
<text text-anchor="middle" x="845.68" y="-232.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">43  [when: service_registry == 'consul']</text>
<links><link target="task_749ee418-b6e0-4871-a05e-e8b745651242"/></links></g>
<!-- task_efe865ca&#45;38a1&#45;4bff&#45;a599&#45;dc4429399850 -->
<g id="task_efe865ca-38a1-4bff-a599-dc4429399850" class="node">
<title>task_efe865ca-38a1-4bff-a599-dc4429399850</title>
<polygon fill="none" stroke="black" points="1613.66,-153.79 1613.66,-168.7 1521.3,-179.25 1390.69,-179.25 1298.33,-168.7 1298.33,-153.79 1390.69,-143.25 1521.3,-143.25 1613.66,-153.79"/>
<text text-anchor="middle" x="1456" y="-157.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove postgres data</text>
</g>
<!-- [role] remove&#45;&gt;task_efe865ca&#45;38a1&#45;4bff&#45;a599&#45;dc4429399850 -->
<g id="edge_66235575-fd22-438b-a6f3-23c247625481" class="edge">
<title>[role] remove-&gt;task_efe865ca-38a1-4bff-a599-dc4429399850</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M462.72,-1250.24C461.65,-1114.22 458.14,-251.35 539.68,-174.25 593.24,-123.59 1050.03,-139.54 1297.37,-152.15"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1297.37,-155.66 1307.54,-152.67 1297.73,-148.66 1297.37,-155.66"/>
<text text-anchor="middle" x="845.68" y="-178.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">44  [when: rm_pgdata|boolrm_pgdata == true]</text>
<links><link target="task_efe865ca-38a1-4bff-a599-dc4429399850"/></links></g>
<!-- task_bfe81d22&#45;a047&#45;4252&#45;a317&#45;5163941dac00 -->
<g id="task_bfe81d22-a047-4252-a317-5163941dac00" class="node">
<title>task_bfe81d22-a047-4252-a317-5163941dac00</title>
<polygon fill="none" stroke="black" points="1610.53,-99.79 1610.53,-114.7 1520.01,-125.25 1391.99,-125.25 1301.46,-114.7 1301.46,-99.79 1391.99,-89.25 1520.01,-89.25 1610.53,-99.79"/>
<text text-anchor="middle" x="1456" y="-103.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove pg packages</text>
</g>
<!-- [role] remove&#45;&gt;task_bfe81d22&#45;a047&#45;4252&#45;a317&#45;5163941dac00 -->
<g id="edge_08b0bf02-9f34-4f43-9e2a-3b84e9b82df1" class="edge">
<title>[role] remove-&gt;task_bfe81d22-a047-4252-a317-5163941dac00</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.4,-1249.99C467.61,-1106.21 496.84,-160.89 539.68,-120.25 593.34,-69.34 1053.02,-85.6 1299.81,-98.26"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1299.78,-101.76 1309.95,-98.78 1300.15,-94.77 1299.78,-101.76"/>
<text text-anchor="middle" x="845.68" y="-124.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">45  [when: rm_pgpkgs|bool]</text>
<links><link target="task_bfe81d22-a047-4252-a317-5163941dac00"/></links></g>
<!-- task_40fe195b&#45;286b&#45;40bd&#45;ac48&#45;6602fcad54a1 -->
<g id="task_40fe195b-286b-40bd-ac48-6602fcad54a1" class="node">
<title>task_40fe195b-286b-40bd-ac48-6602fcad54a1</title>
<polygon fill="none" stroke="black" points="1615.88,-45.79 1615.88,-60.7 1522.22,-71.25 1389.77,-71.25 1296.11,-60.7 1296.11,-45.79 1389.77,-35.25 1522.22,-35.25 1615.88,-45.79"/>
<text text-anchor="middle" x="1456" y="-49.55" font-family="Times,serif" font-size="14.00">[task] remove : Remove pg extensions</text>
</g>
<!-- [role] remove&#45;&gt;task_40fe195b&#45;286b&#45;40bd&#45;ac48&#45;6602fcad54a1 -->
<g id="edge_0bbf3070-1155-453b-a2a6-90ef48ff09c7" class="edge">
<title>[role] remove-&gt;task_40fe195b-286b-40bd-ac48-6602fcad54a1</title>
<path fill="none" stroke="#16cb56" stroke-width="2" d="M463.35,-1250.07C467.2,-1102.78 494.8,-108.95 539.68,-66.25 652.65,41.26 1130.37,-8.43 1347.18,-37.48"/>
<polygon fill="#16cb56" stroke="#16cb56" stroke-width="2" points="1346.93,-40.97 1357.31,-38.84 1347.86,-34.04 1346.93,-40.97"/>
<text text-anchor="middle" x="845.68" y="-70.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">46  [when: rm_pgpkgs|bool]</text>
<links><link target="task_40fe195b-286b-40bd-ac48-6602fcad54a1"/></links></g>
<!-- Play #1: Remove pgsql (4)&#45;&gt;[role] remove -->
<g id="edge_50e13dae-35de-4029-a48e-d899d71a4fef" class="edge">
<title>Play #1: Remove pgsql (4)-&gt;[role] remove</title>
<path fill="none" stroke="#16cb56" d="M359.33,-1268.25C370.17,-1268.25 381.2,-1268.25 391.8,-1268.25"/>
<polygon fill="#16cb56" stroke="#16cb56" points="391.82,-1271.75 401.82,-1268.25 391.82,-1264.75 391.82,-1271.75"/>
<text text-anchor="middle" x="380.59" y="-1272.05" font-family="Times,serif" font-size="14.00" fill="#16cb56">1</text>
<links><link target="role_63512a7f-e86b-4a8f-bfb2-5d278a5e61a2"/></links></g>
</g>
</svg>