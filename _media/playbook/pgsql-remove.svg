<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220226.1711)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2095pt" height="2126pt" viewBox="0.00 0.00 2094.52 2126.08" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param rootElement
 */
function highlightLinkedNodes(rootElement) {
    $(rootElement).find('link').each(function (index, element) {
        let target = $(element).attr('target');
        let currentElement = $('#' + target);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Recursively highlight
        highlightLinkedNodes(currentElement);
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} rootElement
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the rootElement is the current selected element
 */
function unHighlightLinkedNodes(rootElement, isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');

    // Do not unhighlight the current current selected element
    if ($(rootElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(rootElement).find('link').each(function (index, element) {
            let linkedElementId = $(element).attr('target');
            let linkedElement = $('#' + linkedElementId);

            if (linkedElement.attr("id") !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);
                // Recursively unhighlight
                unHighlightLinkedNodes(linkedElement, isHover);
            }
            
        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget);
}

/**
 * Hover handler for mouseleave event
 * @param event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, true);
}

/**
 * Handler when clicking on some elements
 * @param event
 */
function clickOnElement(event) {
    let newClickedElement = $(event.currentTarget);

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked the current selected node
        unHighlightLinkedNodes(currentSelectedElement, false);

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement);
        currentSelectedElement = newClickedElement;
    }
}


$("#svg").ready(function () {
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2122.08)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2122.08 2090.52,-2122.08 2090.52,4 -4,4"/>
<!-- pgsql&#45;remove.yml -->
<g id="root_node" class="node">
<title>pgsql-remove.yml</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="76.04" cy="-1117.08" rx="76.09" ry="18"/>
<text text-anchor="middle" x="76.04" y="-1113.38" font-family="Times,serif" font-size="14.00">pgsql-remove.yml</text>
</g>
<!-- play_dc690560 -->
<g id="play_dc690560" class="node">
<title>play_dc690560</title>
<g id="a_play_dc690560"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13">
<polygon fill="#7f8e3e" stroke="#7f8e3e" points="411.09,-1162.08 199.09,-1162.08 199.09,-1126.08 411.09,-1126.08 411.09,-1162.08"/>
<text text-anchor="middle" x="305.09" y="-1140.38" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove Precheck (4)</text>
</a>
</g>
<links><link target="edge_99a3807f"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;play_dc690560 -->
<g id="edge_77290e59" class="edge">
<title>pgsql-remove.yml-&gt;play_dc690560</title>
<g id="a_edge_77290e59"><a xlink:title="1 ">
<path fill="none" stroke="#7f8e3e" d="M144.24,-1125.07C158.29,-1126.74 173.49,-1128.55 188.73,-1130.36" id="path_edge_77290e59"/>
<polygon fill="#7f8e3e" stroke="#7f8e3e" points="188.39,-1133.85 198.74,-1131.55 189.22,-1126.9 188.39,-1133.85"/>
</a>
</g>
<g id="a_edge_77290e59-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#7f8e3e" dy="-1%"><textPath xlink:href="#path_edge_77290e59" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="play_dc690560"/></links></g>
<!-- play_cb407640 -->
<g id="play_cb407640" class="node">
<title>play_cb407640</title>
<g id="a_play_cb407640"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13">
<polygon fill="#3a00cc" stroke="#3a00cc" points="384.59,-1108.08 225.59,-1108.08 225.59,-1072.08 384.59,-1072.08 384.59,-1108.08"/>
<text text-anchor="middle" x="305.09" y="-1086.38" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove (4)</text>
</a>
</g>
<links><link target="edge_9945301c"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;play_cb407640 -->
<g id="edge_0cfc3132" class="edge">
<title>pgsql-remove.yml-&gt;play_cb407640</title>
<g id="a_edge_0cfc3132"><a xlink:title="2 ">
<path fill="none" stroke="#3a00cc" d="M144.24,-1109.09C166.55,-1106.44 191.75,-1103.44 215.42,-1100.62" id="path_edge_0cfc3132"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="215.95,-1104.09 225.46,-1099.43 215.12,-1097.14 215.95,-1104.09"/>
</a>
</g>
<g id="a_edge_0cfc3132-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_0cfc3132" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="play_cb407640"/></links></g>
<!-- task_93a20ead -->
<g id="task_93a20ead" class="node">
<title>task_93a20ead</title>
<g id="a_task_93a20ead"><a xlink:title="Abort due to pg_safeguard enabled">
<polygon fill="none" stroke="#7f8e3e" points="944.82,-1136.62 944.82,-1151.54 844.95,-1162.08 703.71,-1162.08 603.84,-1151.54 603.84,-1136.62 703.71,-1126.08 844.95,-1126.08 944.82,-1136.62"/>
<text text-anchor="middle" x="774.33" y="-1140.38" font-family="Times,serif" font-size="14.00">[task] Abort due to pg_safeguard enabled</text>
</a>
</g>
</g>
<!-- play_dc690560&#45;&gt;task_93a20ead -->
<g id="edge_99a3807f" class="edge">
<title>play_dc690560-&gt;task_93a20ead</title>
<g id="a_edge_99a3807f"><a xlink:title="1 [when: pg_safeguard|bool]">
<path fill="none" stroke="#7f8e3e" d="M411.24,-1144.08C465.02,-1144.08 532,-1144.08 593.67,-1144.08" id="path_edge_99a3807f"/>
<polygon fill="#7f8e3e" stroke="#7f8e3e" points="593.91,-1147.58 603.91,-1144.08 593.91,-1140.58 593.91,-1147.58"/>
</a>
</g>
<g id="a_edge_99a3807f-label"><a xlink:title="1 [when: pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#7f8e3e" dy="-1%"><textPath xlink:href="#path_edge_99a3807f" text-anchor="middle" startOffset="50%">1 [when: pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_93a20ead"/></links></g>
<!-- role_87b92813 -->
<g id="role_87b92813" class="node">
<title>role_87b92813</title>
<g id="a_role_87b92813"><a xlink:title="pg_remove">
<ellipse fill="none" stroke="#3a00cc" cx="774.33" cy="-1090.08" rx="72.59" ry="18"/>
<text text-anchor="middle" x="774.33" y="-1086.38" font-family="Times,serif" font-size="14.00">[role] pg_remove</text>
</a>
</g>
<links><link target="edge_3f4afcf0"/><link target="edge_bff629f5"/><link target="edge_75c4ad86"/><link target="edge_9861ff66"/><link target="edge_00f0e304"/><link target="edge_908ed53a"/><link target="edge_2083aeaa"/><link target="edge_68918798"/><link target="edge_ad0b5529"/><link target="edge_a080dfce"/><link target="edge_53df4b4d"/><link target="edge_c9d311b2"/><link target="edge_477f7ceb"/><link target="edge_b8fed8b9"/><link target="edge_68d1c983"/><link target="edge_15be2af5"/><link target="edge_164c4855"/><link target="edge_5c5f34ff"/><link target="edge_69906c33"/><link target="edge_398c5c7d"/><link target="edge_bd020e5f"/><link target="edge_abd723a6"/><link target="edge_4ff15343"/><link target="edge_77ec533f"/><link target="edge_131e8672"/><link target="edge_3c23c451"/><link target="edge_a022fd16"/><link target="edge_47374c40"/><link target="edge_4273225b"/><link target="edge_51ca755a"/><link target="edge_e98299e5"/><link target="edge_dcd8b001"/><link target="edge_8f8b9a5f"/><link target="edge_a848b752"/><link target="edge_98968e7f"/><link target="edge_7b25a1e4"/><link target="edge_a2c73712"/><link target="edge_367209a9"/></links></g>
<!-- play_cb407640&#45;&gt;role_87b92813 -->
<g id="edge_9945301c" class="edge">
<title>play_cb407640-&gt;role_87b92813</title>
<g id="a_edge_9945301c"><a xlink:title="1 ">
<path fill="none" stroke="#3a00cc" d="M384.82,-1090.08C469.88,-1090.08 604.8,-1090.08 691.17,-1090.08" id="path_edge_9945301c"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="691.19,-1093.58 701.19,-1090.08 691.19,-1086.58 691.19,-1093.58"/>
</a>
</g>
<g id="a_edge_9945301c-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_9945301c" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_87b92813"/></links></g>
<!-- task_5c7ba0d0 -->
<g id="task_5c7ba0d0" class="node">
<title>task_5c7ba0d0</title>
<g id="a_task_5c7ba0d0"><a xlink:title="pg_remove : Remove pgsql target from prometheus">
<polygon fill="none" stroke="#3a00cc" points="2021.55,-2081.62 2021.55,-2096.54 1897.66,-2107.08 1722.44,-2107.08 1598.55,-2096.54 1598.55,-2081.62 1722.44,-2071.08 1897.66,-2071.08 2021.55,-2081.62"/>
<text text-anchor="middle" x="1810.05" y="-2085.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgsql target from prometheus</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_5c7ba0d0 -->
<g id="edge_3f4afcf0" class="edge">
<title>role_87b92813-&gt;task_5c7ba0d0</title>
<g id="a_edge_3f4afcf0"><a xlink:title="1 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M839.52,-1082.05C875.95,-1081.39 919.19,-1087.89 944.58,-1117.08 979.22,-1156.91 925.38,-2029.62 962.58,-2067.08 1006.74,-2111.56 1367.76,-2106.54 1603.84,-2098.23" id="path_edge_3f4afcf0"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1604.07,-2101.72 1613.94,-2097.87 1603.82,-2094.73 1604.07,-2101.72"/>
</a>
</g>
<g id="a_edge_3f4afcf0-label"><a xlink:title="1 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_3f4afcf0" text-anchor="middle" startOffset="50%">1 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_5c7ba0d0"/></links></g>
<!-- task_f7099a26 -->
<g id="task_f7099a26" class="node">
<title>task_f7099a26</title>
<g id="a_task_f7099a26"><a xlink:title="pg_remove : Remove grafana datasource on meta node">
<polygon fill="none" stroke="#3a00cc" points="2034.38,-2027.62 2034.38,-2042.54 1902.97,-2053.08 1717.13,-2053.08 1585.72,-2042.54 1585.72,-2027.62 1717.13,-2017.08 1902.97,-2017.08 2034.38,-2027.62"/>
<text text-anchor="middle" x="1810.05" y="-2031.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_f7099a26 -->
<g id="edge_bff629f5" class="edge">
<title>role_87b92813-&gt;task_f7099a26</title>
<g id="a_edge_bff629f5"><a xlink:title="2 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M839.51,-1082.06C875.93,-1081.4 919.18,-1087.91 944.58,-1117.08 977.27,-1154.63 927.48,-1977.77 962.58,-2013.08 1006.26,-2057.02 1359.47,-2052.63 1595.61,-2044.51" id="path_edge_bff629f5"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1595.84,-2048 1605.72,-2044.16 1595.6,-2041.01 1595.84,-2048"/>
</a>
</g>
<g id="a_edge_bff629f5-label"><a xlink:title="2 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_bff629f5" text-anchor="middle" startOffset="50%">2 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_f7099a26"/></links></g>
<!-- task_00a02877 -->
<g id="task_00a02877" class="node">
<title>task_00a02877</title>
<g id="a_task_00a02877"><a xlink:title="pg_remove : Remove haproxy upstream from nginx">
<polygon fill="none" stroke="#3a00cc" points="2022.46,-1973.62 2022.46,-1988.54 1898.03,-1999.08 1722.07,-1999.08 1597.64,-1988.54 1597.64,-1973.62 1722.07,-1963.08 1898.03,-1963.08 2022.46,-1973.62"/>
<text text-anchor="middle" x="1810.05" y="-1977.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy upstream from nginx</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_00a02877 -->
<g id="edge_75c4ad86" class="edge">
<title>role_87b92813-&gt;task_00a02877</title>
<g id="a_edge_75c4ad86"><a xlink:title="3 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M839.92,-1082.07C876.24,-1081.47 919.26,-1088.04 944.58,-1117.08 975.32,-1152.35 929.57,-1925.92 962.58,-1959.08 1006.75,-2003.46 1367.01,-1998.51 1603.09,-1990.24" id="path_edge_75c4ad86"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1603.32,-1993.73 1613.19,-1989.88 1603.07,-1986.74 1603.32,-1993.73"/>
</a>
</g>
<g id="a_edge_75c4ad86-label"><a xlink:title="3 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_75c4ad86" text-anchor="middle" startOffset="50%">3 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_00a02877"/></links></g>
<!-- task_d19f5912 -->
<g id="task_d19f5912" class="node">
<title>task_d19f5912</title>
<g id="a_task_d19f5912"><a xlink:title="pg_remove : Remove haproxy url location from nginx">
<polygon fill="none" stroke="#3a00cc" points="2030.84,-1919.62 2030.84,-1934.54 1901.51,-1945.08 1718.59,-1945.08 1589.26,-1934.54 1589.26,-1919.62 1718.59,-1909.08 1901.51,-1909.08 2030.84,-1919.62"/>
<text text-anchor="middle" x="1810.05" y="-1923.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy url location from nginx</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_d19f5912 -->
<g id="edge_9861ff66" class="edge">
<title>role_87b92813-&gt;task_d19f5912</title>
<g id="a_edge_9861ff66"><a xlink:title="4 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M839.9,-1082.08C876.22,-1081.49 919.24,-1088.05 944.58,-1117.08 973.38,-1150.07 931.66,-1874.07 962.58,-1905.08 1006.44,-1949.09 1361.58,-1944.56 1597.7,-1936.42" id="path_edge_9861ff66"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1597.93,-1939.91 1607.8,-1936.06 1597.69,-1932.91 1597.93,-1939.91"/>
</a>
</g>
<g id="a_edge_9861ff66-label"><a xlink:title="4 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_9861ff66" text-anchor="middle" startOffset="50%">4 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_d19f5912"/></links></g>
<!-- task_8f16fc3b -->
<g id="task_8f16fc3b" class="node">
<title>task_8f16fc3b</title>
<g id="a_task_8f16fc3b"><a xlink:title="pg_remove : Reload nginx to remove haproxy upstream">
<polygon fill="none" stroke="#3a00cc" points="2037.51,-1865.62 2037.51,-1880.54 1904.26,-1891.08 1715.83,-1891.08 1582.59,-1880.54 1582.59,-1865.62 1715.83,-1855.08 1904.26,-1855.08 2037.51,-1865.62"/>
<text text-anchor="middle" x="1810.05" y="-1869.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload nginx to remove haproxy upstream</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_8f16fc3b -->
<g id="edge_00f0e304" class="edge">
<title>role_87b92813-&gt;task_8f16fc3b</title>
<g id="a_edge_00f0e304"><a xlink:title="5 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M839.89,-1082.1C876.2,-1081.51 919.21,-1088.08 944.58,-1117.08 971.43,-1147.79 933.76,-1822.22 962.58,-1851.08 1006.21,-1894.78 1357.22,-1890.59 1593.31,-1882.55" id="path_edge_00f0e304"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1593.54,-1886.05 1603.42,-1882.21 1593.3,-1879.05 1593.54,-1886.05"/>
</a>
</g>
<g id="a_edge_00f0e304-label"><a xlink:title="5 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_00f0e304" text-anchor="middle" startOffset="50%">5 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_8f16fc3b"/></links></g>
<!-- task_91493434 -->
<g id="task_91493434" class="node">
<title>task_91493434</title>
<g id="a_task_91493434"><a xlink:title="pg_remove : Remove cluster service from consul">
<polygon fill="none" stroke="#3a00cc" points="2011.85,-1811.62 2011.85,-1826.54 1893.64,-1837.08 1726.46,-1837.08 1608.24,-1826.54 1608.24,-1811.62 1726.46,-1801.08 1893.64,-1801.08 2011.85,-1811.62"/>
<text text-anchor="middle" x="1810.05" y="-1815.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove cluster service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_91493434 -->
<g id="edge_908ed53a" class="edge">
<title>role_87b92813-&gt;task_91493434</title>
<g id="a_edge_908ed53a"><a xlink:title="6 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M839.87,-1082.11C876.17,-1081.53 919.18,-1088.1 944.58,-1117.08 969.48,-1145.5 935.85,-1770.36 962.58,-1797.08 1007.29,-1841.78 1374.15,-1836.34 1610.01,-1827.96" id="path_edge_908ed53a"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1610.22,-1831.45 1620.09,-1827.6 1609.97,-1824.46 1610.22,-1831.45"/>
</a>
</g>
<g id="a_edge_908ed53a-label"><a xlink:title="6 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_908ed53a" text-anchor="middle" startOffset="50%">6 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_91493434"/></links></g>
<!-- task_2ae8f78e -->
<g id="task_2ae8f78e" class="node">
<title>task_2ae8f78e</title>
<g id="a_task_2ae8f78e"><a xlink:title="pg_remove : Remove haproxy service from consul">
<polygon fill="none" stroke="#3a00cc" points="2017.61,-1757.62 2017.61,-1772.54 1896.02,-1783.08 1724.08,-1783.08 1602.49,-1772.54 1602.49,-1757.62 1724.08,-1747.08 1896.02,-1747.08 2017.61,-1757.62"/>
<text text-anchor="middle" x="1810.05" y="-1761.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_2ae8f78e -->
<g id="edge_2083aeaa" class="edge">
<title>role_87b92813-&gt;task_2ae8f78e</title>
<g id="a_edge_2083aeaa"><a xlink:title="7 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M839.84,-1082.14C876.14,-1081.56 919.15,-1088.13 944.58,-1117.08 990.49,-1169.36 913.31,-1693.95 962.58,-1743.08 1007.09,-1787.47 1369.99,-1782.36 1605.96,-1774.09" id="path_edge_2083aeaa"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1606.18,-1777.58 1616.05,-1773.73 1605.93,-1770.58 1606.18,-1777.58"/>
</a>
</g>
<g id="a_edge_2083aeaa-label"><a xlink:title="7 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_2083aeaa" text-anchor="middle" startOffset="50%">7 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_2ae8f78e"/></links></g>
<!-- task_f54f2420 -->
<g id="task_f54f2420" class="node">
<title>task_f54f2420</title>
<g id="a_task_f54f2420"><a xlink:title="pg_remove : Reload consul to dereigster haproxy">
<polygon fill="none" stroke="#3a00cc" points="2011.45,-1703.62 2011.45,-1718.54 1893.47,-1729.08 1726.63,-1729.08 1608.65,-1718.54 1608.65,-1703.62 1726.63,-1693.08 1893.47,-1693.08 2011.45,-1703.62"/>
<text text-anchor="middle" x="1810.05" y="-1707.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster haproxy</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_f54f2420 -->
<g id="edge_68918798" class="edge">
<title>role_87b92813-&gt;task_f54f2420</title>
<g id="a_edge_68918798"><a xlink:title="8 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M839.81,-1082.16C876.1,-1081.59 919.11,-1088.16 944.58,-1117.08 986.6,-1164.8 917.49,-1644.24 962.58,-1689.08 1007.39,-1733.65 1373.96,-1728.27 1609.79,-1719.93" id="path_edge_68918798"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1610,-1723.43 1619.87,-1719.57 1609.75,-1716.43 1610,-1723.43"/>
</a>
</g>
<g id="a_edge_68918798-label"><a xlink:title="8 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_68918798" text-anchor="middle" startOffset="50%">8 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_f54f2420"/></links></g>
<!-- task_fe7ea97d -->
<g id="task_fe7ea97d" class="node">
<title>task_fe7ea97d</title>
<g id="a_task_fe7ea97d"><a xlink:title="pg_remove : Stop and disable haproxy load balancer">
<polygon fill="none" stroke="#3a00cc" points="2023.77,-1649.62 2023.77,-1664.54 1898.58,-1675.08 1721.52,-1675.08 1596.33,-1664.54 1596.33,-1649.62 1721.52,-1639.08 1898.58,-1639.08 2023.77,-1649.62"/>
<text text-anchor="middle" x="1810.05" y="-1653.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable haproxy load balancer</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_fe7ea97d -->
<g id="edge_ad0b5529" class="edge">
<title>role_87b92813-&gt;task_fe7ea97d</title>
<g id="a_edge_ad0b5529"><a xlink:title="9 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M839.78,-1082.19C876.05,-1081.63 919.06,-1088.21 944.58,-1117.08 982.71,-1160.24 921.68,-1594.54 962.58,-1635.08 1006.95,-1679.06 1365.65,-1674.33 1601.65,-1666.19" id="path_edge_ad0b5529"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1601.87,-1669.69 1611.75,-1665.84 1601.63,-1662.69 1601.87,-1669.69"/>
</a>
</g>
<g id="a_edge_ad0b5529-label"><a xlink:title="9 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_ad0b5529" text-anchor="middle" startOffset="50%">9 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_fe7ea97d"/></links></g>
<!-- task_20078926 -->
<g id="task_20078926" class="node">
<title>task_20078926</title>
<g id="a_task_20078926"><a xlink:title="pg_remove : Stop and disable vip-manager">
<polygon fill="none" stroke="#3a00cc" points="1987.11,-1595.62 1987.11,-1610.54 1883.39,-1621.08 1736.71,-1621.08 1632.99,-1610.54 1632.99,-1595.62 1736.71,-1585.08 1883.39,-1585.08 1987.11,-1595.62"/>
<text text-anchor="middle" x="1810.05" y="-1599.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable vip-manager</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_20078926 -->
<g id="edge_a080dfce" class="edge">
<title>role_87b92813-&gt;task_20078926</title>
<g id="a_edge_a080dfce"><a xlink:title="10 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M840.16,-1082.22C876.33,-1081.74 919.1,-1088.37 944.58,-1117.08 978.82,-1155.68 925.86,-1544.83 962.58,-1581.08 1008.63,-1626.55 1391.85,-1619.87 1626.59,-1611.28" id="path_edge_a080dfce"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1626.75,-1614.77 1636.61,-1610.91 1626.49,-1607.78 1626.75,-1614.77"/>
</a>
</g>
<g id="a_edge_a080dfce-label"><a xlink:title="10 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_a080dfce" text-anchor="middle" startOffset="50%">10 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_20078926"/></links></g>
<!-- task_8da364b9 -->
<g id="task_8da364b9" class="node">
<title>task_8da364b9</title>
<g id="a_task_8da364b9"><a xlink:title="pg_remove : Remove pg_exporter service from consul">
<polygon fill="none" stroke="#3a00cc" points="2032.16,-1541.62 2032.16,-1556.54 1902.05,-1567.08 1718.05,-1567.08 1587.94,-1556.54 1587.94,-1541.62 1718.05,-1531.08 1902.05,-1531.08 2032.16,-1541.62"/>
<text text-anchor="middle" x="1810.05" y="-1545.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_8da364b9 -->
<g id="edge_53df4b4d" class="edge">
<title>role_87b92813-&gt;task_8da364b9</title>
<g id="a_edge_53df4b4d"><a xlink:title="11 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M840.1,-1082.27C876.26,-1081.8 919.03,-1088.43 944.58,-1117.08 974.93,-1151.11 930.05,-1495.13 962.58,-1527.08 1006.76,-1570.48 1359.57,-1566.28 1595.54,-1558.33" id="path_edge_53df4b4d"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1595.76,-1561.83 1605.63,-1557.99 1595.52,-1554.83 1595.76,-1561.83"/>
</a>
</g>
<g id="a_edge_53df4b4d-label"><a xlink:title="11 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_53df4b4d" text-anchor="middle" startOffset="50%">11 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_8da364b9"/></links></g>
<!-- task_4853d45f -->
<g id="task_4853d45f" class="node">
<title>task_4853d45f</title>
<g id="a_task_4853d45f"><a xlink:title="pg_remove : Reload consul to dereigster pg_exporter">
<polygon fill="none" stroke="#3a00cc" points="2025.99,-1487.62 2025.99,-1502.54 1899.5,-1513.08 1720.6,-1513.08 1594.11,-1502.54 1594.11,-1487.62 1720.6,-1477.08 1899.5,-1477.08 2025.99,-1487.62"/>
<text text-anchor="middle" x="1810.05" y="-1491.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pg_exporter</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_4853d45f -->
<g id="edge_c9d311b2" class="edge">
<title>role_87b92813-&gt;task_4853d45f</title>
<g id="a_edge_c9d311b2"><a xlink:title="12 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M840.45,-1082.33C876.49,-1081.94 919.04,-1088.63 944.58,-1117.08 971.03,-1146.55 934.23,-1445.42 962.58,-1473.08 1007.13,-1516.55 1363.28,-1512.13 1599.2,-1504.16" id="path_edge_c9d311b2"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1599.42,-1507.66 1609.29,-1503.82 1599.18,-1500.66 1599.42,-1507.66"/>
</a>
</g>
<g id="a_edge_c9d311b2-label"><a xlink:title="12 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_c9d311b2" text-anchor="middle" startOffset="50%">12 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_4853d45f"/></links></g>
<!-- task_03ec8da4 -->
<g id="task_03ec8da4" class="node">
<title>task_03ec8da4</title>
<g id="a_task_03ec8da4"><a xlink:title="pg_remove : Stop and disable pg_exporter service">
<polygon fill="none" stroke="#3a00cc" points="2014.08,-1433.62 2014.08,-1448.54 1894.56,-1459.08 1725.54,-1459.08 1606.02,-1448.54 1606.02,-1433.62 1725.54,-1423.08 1894.56,-1423.08 2014.08,-1433.62"/>
<text text-anchor="middle" x="1810.05" y="-1437.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pg_exporter service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_03ec8da4 -->
<g id="edge_477f7ceb" class="edge">
<title>role_87b92813-&gt;task_03ec8da4</title>
<g id="a_edge_477f7ceb"><a xlink:title="13 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M840.35,-1082.42C876.36,-1082.05 918.9,-1088.75 944.58,-1117.08 989.57,-1166.74 914.43,-1371.48 962.58,-1418.08 1007.65,-1461.71 1368.86,-1457.39 1604.65,-1449.66" id="path_edge_477f7ceb"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1604.85,-1453.15 1614.73,-1449.32 1604.62,-1446.16 1604.85,-1453.15"/>
</a>
</g>
<g id="a_edge_477f7ceb-label"><a xlink:title="13 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_477f7ceb" text-anchor="middle" startOffset="50%">13 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_03ec8da4"/></links></g>
<!-- task_e28e87ba -->
<g id="task_e28e87ba" class="node">
<title>task_e28e87ba</title>
<g id="a_task_e28e87ba"><a xlink:title="pg_remove : Remove pgbouncer_exporter service from consul">
<polygon fill="none" stroke="#3a00cc" points="2062.66,-1379.62 2062.66,-1394.54 1914.68,-1405.08 1705.42,-1405.08 1557.44,-1394.54 1557.44,-1379.62 1705.42,-1369.08 1914.68,-1369.08 2062.66,-1379.62"/>
<text text-anchor="middle" x="1810.05" y="-1383.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_e28e87ba -->
<g id="edge_b8fed8b9" class="edge">
<title>role_87b92813-&gt;task_e28e87ba</title>
<g id="a_edge_b8fed8b9"><a xlink:title="14 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M840.63,-1082.54C876.5,-1082.28 918.81,-1089.03 944.58,-1117.08 981.51,-1157.29 923.14,-1324.33 962.58,-1362.08 1005.47,-1403.14 1331.34,-1402.33 1565.94,-1396.15" id="path_edge_b8fed8b9"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1566.09,-1399.65 1575.99,-1395.88 1565.9,-1392.65 1566.09,-1399.65"/>
</a>
</g>
<g id="a_edge_b8fed8b9-label"><a xlink:title="14 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_b8fed8b9" text-anchor="middle" startOffset="50%">14 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_e28e87ba"/></links></g>
<!-- task_5f51faf0 -->
<g id="task_5f51faf0" class="node">
<title>task_5f51faf0</title>
<g id="a_task_5f51faf0"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer_exporter">
<polygon fill="none" stroke="#3a00cc" points="2056.49,-1325.62 2056.49,-1340.54 1912.13,-1351.08 1707.97,-1351.08 1563.6,-1340.54 1563.6,-1325.62 1707.97,-1315.08 1912.13,-1315.08 2056.49,-1325.62"/>
<text text-anchor="middle" x="1810.05" y="-1329.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer_exporter</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_5f51faf0 -->
<g id="edge_68d1c983" class="edge">
<title>role_87b92813-&gt;task_5f51faf0</title>
<g id="a_edge_68d1c983"><a xlink:title="15 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M840.82,-1082.75C876.53,-1082.62 918.61,-1089.42 944.58,-1117.08 973.45,-1147.84 931.82,-1277.2 962.58,-1306.08 1005.66,-1346.53 1328.41,-1346.82 1562.61,-1341.45" id="path_edge_68d1c983"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1562.73,-1344.94 1572.64,-1341.21 1562.56,-1337.95 1562.73,-1344.94"/>
</a>
</g>
<g id="a_edge_68d1c983-label"><a xlink:title="15 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_68d1c983" text-anchor="middle" startOffset="50%">15 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_5f51faf0"/></links></g>
<!-- task_e9bf14ab -->
<g id="task_e9bf14ab" class="node">
<title>task_e9bf14ab</title>
<g id="a_task_e9bf14ab"><a xlink:title="pg_remove : Stop and disable pgbouncer_exporter service">
<polygon fill="none" stroke="#3a00cc" points="2044.98,-1271.62 2044.98,-1286.54 1907.36,-1297.08 1712.74,-1297.08 1575.12,-1286.54 1575.12,-1271.62 1712.74,-1261.08 1907.36,-1261.08 2044.98,-1271.62"/>
<text text-anchor="middle" x="1810.05" y="-1275.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer_exporter service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_e9bf14ab -->
<g id="edge_15be2af5" class="edge">
<title>role_87b92813-&gt;task_e9bf14ab</title>
<g id="a_edge_15be2af5"><a xlink:title="16 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M841.66,-1083.16C876.96,-1083.31 918.37,-1090.27 944.58,-1117.08 985.97,-1159.42 918.67,-1209.36 962.58,-1249.08 1006.54,-1288.85 1330.94,-1290.42 1565.07,-1286.14" id="path_edge_15be2af5"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1565.17,-1289.64 1575.1,-1285.95 1565.04,-1282.64 1565.17,-1289.64"/>
</a>
</g>
<g id="a_edge_15be2af5-label"><a xlink:title="16 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_15be2af5" text-anchor="middle" startOffset="50%">16 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_e9bf14ab"/></links></g>
<!-- task_50d09838 -->
<g id="task_50d09838" class="node">
<title>task_50d09838</title>
<g id="a_task_50d09838"><a xlink:title="pg_remove : Remove pgbouncer service from consul">
<polygon fill="none" stroke="#3a00cc" points="2026.9,-1217.62 2026.9,-1232.54 1899.87,-1243.08 1720.23,-1243.08 1593.2,-1232.54 1593.2,-1217.62 1720.23,-1207.08 1899.87,-1207.08 2026.9,-1217.62"/>
<text text-anchor="middle" x="1810.05" y="-1221.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_50d09838 -->
<g id="edge_164c4855" class="edge">
<title>role_87b92813-&gt;task_50d09838</title>
<g id="a_edge_164c4855"><a xlink:title="17 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M843.52,-1084.32C877.84,-1085.16 917.75,-1092.41 944.58,-1117.08 969.17,-1139.7 936.7,-1168.93 962.58,-1190.08 1009.63,-1228.53 1348.65,-1231.93 1583.09,-1229.5" id="path_edge_164c4855"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1583.17,-1233 1593.13,-1229.39 1583.09,-1226 1583.17,-1233"/>
</a>
</g>
<g id="a_edge_164c4855-label"><a xlink:title="17 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_164c4855" text-anchor="middle" startOffset="50%">17 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_50d09838"/></links></g>
<!-- task_067e2fc4 -->
<g id="task_067e2fc4" class="node">
<title>task_067e2fc4</title>
<g id="a_task_067e2fc4"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer">
<polygon fill="none" stroke="#3a00cc" points="2020.24,-1163.62 2020.24,-1178.54 1897.11,-1189.08 1722.99,-1189.08 1599.86,-1178.54 1599.86,-1163.62 1722.99,-1153.08 1897.11,-1153.08 2020.24,-1163.62"/>
<text text-anchor="middle" x="1810.05" y="-1167.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_067e2fc4 -->
<g id="edge_5c5f34ff" class="edge">
<title>role_87b92813-&gt;task_067e2fc4</title>
<g id="a_edge_5c5f34ff"><a xlink:title="18 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M844.82,-1095C876.03,-1098.76 912.89,-1105.39 944.58,-1117.08 953.37,-1120.33 953.62,-1125.31 962.58,-1128.08 1075.14,-1162.86 1378.07,-1170.95 1589.17,-1172.14" id="path_edge_5c5f34ff"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1589.45,-1175.64 1599.47,-1172.19 1589.49,-1168.64 1589.45,-1175.64"/>
</a>
</g>
<g id="a_edge_5c5f34ff-label"><a xlink:title="18 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_5c5f34ff" text-anchor="middle" startOffset="50%">18 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_067e2fc4"/></links></g>
<!-- task_2df33459 -->
<g id="task_2df33459" class="node">
<title>task_2df33459</title>
<g id="a_task_2df33459"><a xlink:title="pg_remove : Stop and disable pgbouncer service">
<polygon fill="none" stroke="#3a00cc" points="2008.32,-1109.62 2008.32,-1124.54 1892.18,-1135.08 1727.92,-1135.08 1611.78,-1124.54 1611.78,-1109.62 1727.92,-1099.08 1892.18,-1099.08 2008.32,-1109.62"/>
<text text-anchor="middle" x="1810.05" y="-1113.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_2df33459 -->
<g id="edge_69906c33" class="edge">
<title>role_87b92813-&gt;task_2df33459</title>
<g id="a_edge_69906c33"><a xlink:title="19 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M846.79,-1091.95C1000.52,-1095.96 1367.59,-1105.55 1601.32,-1111.65" id="path_edge_69906c33"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1601.57,-1115.16 1611.66,-1111.92 1601.75,-1108.16 1601.57,-1115.16"/>
</a>
</g>
<g id="a_edge_69906c33-label"><a xlink:title="19 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_69906c33" text-anchor="middle" startOffset="50%">19 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_2df33459"/></links></g>
<!-- task_46c82bf8 -->
<g id="task_46c82bf8" class="node">
<title>task_46c82bf8</title>
<g id="a_task_46c82bf8"><a xlink:title="pg_remove : Get actuall pg_role">
<polygon fill="none" stroke="#3a00cc" points="1946.5,-1055.62 1946.5,-1070.54 1866.57,-1081.08 1753.53,-1081.08 1673.59,-1070.54 1673.59,-1055.62 1753.53,-1045.08 1866.57,-1045.08 1946.5,-1055.62"/>
<text text-anchor="middle" x="1810.05" y="-1059.38" font-family="Times,serif" font-size="14.00">pg_remove : Get actuall pg_role</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_46c82bf8 -->
<g id="edge_398c5c7d" class="edge">
<title>role_87b92813-&gt;task_46c82bf8</title>
<g id="a_edge_398c5c7d"><a xlink:title="20 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M843.31,-1084.02C878.82,-1081.11 923.01,-1077.86 962.58,-1076.08 1208.26,-1065.02 1494.42,-1062.86 1663.17,-1062.7" id="path_edge_398c5c7d"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1663.37,-1066.2 1673.37,-1062.69 1663.36,-1059.2 1663.37,-1066.2"/>
</a>
</g>
<g id="a_edge_398c5c7d-label"><a xlink:title="20 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_398c5c7d" text-anchor="middle" startOffset="50%">20 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_46c82bf8"/></links></g>
<!-- task_855f7279 -->
<g id="task_855f7279" class="node">
<title>task_855f7279</title>
<g id="a_task_855f7279"><a xlink:title="pg_remove : Get pg_role from result">
<polygon fill="none" stroke="#3a00cc" points="1963.27,-1001.62 1963.27,-1016.54 1873.52,-1027.08 1746.58,-1027.08 1656.83,-1016.54 1656.83,-1001.62 1746.58,-991.08 1873.52,-991.08 1963.27,-1001.62"/>
<text text-anchor="middle" x="1810.05" y="-1005.38" font-family="Times,serif" font-size="14.00">pg_remove : Get pg_role from result</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_855f7279 -->
<g id="edge_bd020e5f" class="edge">
<title>role_87b92813-&gt;task_855f7279</title>
<g id="a_edge_bd020e5f"><a xlink:title="21 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#3a00cc" d="M821,-1076.15C858.61,-1065.33 913.53,-1051.05 962.58,-1044.08 1198.69,-1010.54 1475.29,-1005.45 1646.36,-1006.22" id="path_edge_bd020e5f"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1646.44,-1009.72 1656.46,-1006.27 1646.47,-1002.72 1646.44,-1009.72"/>
</a>
</g>
<g id="a_edge_bd020e5f-label"><a xlink:title="21 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_bd020e5f" text-anchor="middle" startOffset="50%">21 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_855f7279"/></links></g>
<!-- task_1de7777c -->
<g id="task_1de7777c" class="node">
<title>task_1de7777c</title>
<g id="a_task_1de7777c"><a xlink:title="pg_remove : Set pg_role if applicable">
<polygon fill="none" stroke="#3a00cc" points="1966.81,-947.62 1966.81,-962.54 1874.98,-973.08 1745.12,-973.08 1653.29,-962.54 1653.29,-947.62 1745.12,-937.08 1874.98,-937.08 1966.81,-947.62"/>
<text text-anchor="middle" x="1810.05" y="-951.38" font-family="Times,serif" font-size="14.00">pg_remove : Set pg_role if applicable</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_1de7777c -->
<g id="edge_abd723a6" class="edge">
<title>role_87b92813-&gt;task_1de7777c</title>
<g id="a_edge_abd723a6"><a xlink:title="22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<path fill="none" stroke="#3a00cc" d="M798.03,-1072.95C831.79,-1048.59 898.22,-1004.92 962.58,-987.08 1211,-918.23 1516.1,-928.67 1683.78,-942.09" id="path_edge_abd723a6"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1683.63,-945.59 1693.88,-942.91 1684.2,-938.61 1683.63,-945.59"/>
</a>
</g>
<g id="a_edge_abd723a6-label"><a xlink:title="22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_abd723a6" text-anchor="middle" startOffset="50%">22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']</textPath></text>
</a>
</g>
<links><link target="task_1de7777c"/></links></g>
<!-- task_a3113f8c -->
<g id="task_a3113f8c" class="node">
<title>task_a3113f8c</title>
<g id="a_task_a3113f8c"><a xlink:title="pg_remove : Remove follower postgres service from consul">
<polygon fill="none" stroke="#3a00cc" points="2052.96,-893.62 2052.96,-908.54 1910.67,-919.08 1709.43,-919.08 1567.14,-908.54 1567.14,-893.62 1709.43,-883.08 1910.67,-883.08 2052.96,-893.62"/>
<text text-anchor="middle" x="1810.05" y="-897.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower postgres service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_a3113f8c -->
<g id="edge_4ff15343" class="edge">
<title>role_87b92813-&gt;task_a3113f8c</title>
<g id="a_edge_4ff15343"><a xlink:title="23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M787.17,-1072.07C813.38,-1034.06 880.51,-946.4 962.58,-913.08 1077.77,-866.3 1410.43,-876.11 1622.79,-888.15" id="path_edge_4ff15343"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1622.63,-891.64 1632.81,-888.72 1623.03,-884.66 1622.63,-891.64"/>
</a>
</g>
<g id="a_edge_4ff15343-label"><a xlink:title="23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_4ff15343" text-anchor="middle" startOffset="50%">23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_a3113f8c"/></links></g>
<!-- task_be66668c -->
<g id="task_be66668c" class="node">
<title>task_be66668c</title>
<g id="a_task_be66668c"><a xlink:title="pg_remove : Remove follower patroni service from consul">
<polygon fill="none" stroke="#3a00cc" points="2047.61,-839.62 2047.61,-854.54 1908.45,-865.08 1711.65,-865.08 1572.49,-854.54 1572.49,-839.62 1711.65,-829.08 1908.45,-829.08 2047.61,-839.62"/>
<text text-anchor="middle" x="1810.05" y="-843.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower patroni service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_be66668c -->
<g id="edge_77ec533f" class="edge">
<title>role_87b92813-&gt;task_be66668c</title>
<g id="a_edge_77ec533f"><a xlink:title="24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M783.17,-1072.07C804.27,-1026.21 867.14,-905.41 962.58,-859.08 1077.92,-803.09 1429.25,-817.85 1641.3,-832.92" id="path_edge_77ec533f"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1641.07,-836.42 1651.29,-833.64 1641.57,-829.43 1641.07,-836.42"/>
</a>
</g>
<g id="a_edge_77ec533f-label"><a xlink:title="24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_77ec533f" text-anchor="middle" startOffset="50%">24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_be66668c"/></links></g>
<!-- task_3f43c91f -->
<g id="task_3f43c91f" class="node">
<title>task_3f43c91f</title>
<g id="a_task_3f43c91f"><a xlink:title="pg_remove : Reload follower consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#3a00cc" points="2086.49,-785.62 2086.49,-800.54 1924.56,-811.08 1695.54,-811.08 1533.6,-800.54 1533.6,-785.62 1695.54,-775.08 1924.56,-775.08 2086.49,-785.62"/>
<text text-anchor="middle" x="1810.05" y="-789.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_3f43c91f -->
<g id="edge_131e8672" class="edge">
<title>role_87b92813-&gt;task_3f43c91f</title>
<g id="a_edge_131e8672"><a xlink:title="25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M780.38,-1072C796.42,-1018.51 851.78,-861.02 962.58,-800.08 1013.61,-772.01 1326,-776.02 1556.51,-783.14" id="path_edge_131e8672"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1556.63,-786.65 1566.73,-783.46 1556.85,-779.65 1556.63,-786.65"/>
</a>
</g>
<g id="a_edge_131e8672-label"><a xlink:title="25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_131e8672" text-anchor="middle" startOffset="50%">25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_3f43c91f"/></links></g>
<!-- task_817394b9 -->
<g id="task_817394b9" class="node">
<title>task_817394b9</title>
<g id="a_task_817394b9"><a xlink:title="pg_remove : Stop and disable follower patroni service">
<polygon fill="none" stroke="#3a00cc" points="2030.44,-731.62 2030.44,-746.54 1901.34,-757.08 1718.76,-757.08 1589.66,-746.54 1589.66,-731.62 1718.76,-721.08 1901.34,-721.08 2030.44,-731.62"/>
<text text-anchor="middle" x="1810.05" y="-735.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower patroni service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_817394b9 -->
<g id="edge_3c23c451" class="edge">
<title>role_87b92813-&gt;task_817394b9</title>
<g id="a_edge_3c23c451"><a xlink:title="26 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#3a00cc" d="M778.99,-1072.08C791.87,-1013.96 841.1,-830.87 962.58,-758.08 1075.14,-690.63 1442.42,-708.02 1654.37,-724.72" id="path_edge_3c23c451"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1654.1,-728.21 1664.35,-725.52 1654.66,-721.23 1654.1,-728.21"/>
</a>
</g>
<g id="a_edge_3c23c451-label"><a xlink:title="26 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_3c23c451" text-anchor="middle" startOffset="50%">26 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_817394b9"/></links></g>
<!-- task_b7008a56 -->
<g id="task_b7008a56" class="node">
<title>task_b7008a56</title>
<g id="a_task_b7008a56"><a xlink:title="pg_remove : Stop and disable follower postgres service">
<polygon fill="none" stroke="#3a00cc" points="2035.28,-677.62 2035.28,-692.54 1903.34,-703.08 1716.75,-703.08 1584.81,-692.54 1584.81,-677.62 1716.75,-667.08 1903.34,-667.08 2035.28,-677.62"/>
<text text-anchor="middle" x="1810.05" y="-681.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower postgres service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_b7008a56 -->
<g id="edge_a022fd16" class="edge">
<title>role_87b92813-&gt;task_b7008a56</title>
<g id="a_edge_a022fd16"><a xlink:title="27 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#3a00cc" d="M777.23,-1071.76C785.17,-1005.86 822.12,-780 962.58,-690.08 1015.06,-656.48 1369.54,-665.21 1602.82,-674.93" id="path_edge_a022fd16"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1603.01,-678.44 1613.15,-675.36 1603.3,-671.44 1603.01,-678.44"/>
</a>
</g>
<g id="a_edge_a022fd16-label"><a xlink:title="27 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_a022fd16" text-anchor="middle" startOffset="50%">27 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_b7008a56"/></links></g>
<!-- task_2917aa14 -->
<g id="task_2917aa14" class="node">
<title>task_2917aa14</title>
<g id="a_task_2917aa14"><a xlink:title="pg_remove : Force follower postgres shutdown">
<polygon fill="none" stroke="#3a00cc" points="2003.47,-623.62 2003.47,-638.54 1890.17,-649.08 1729.93,-649.08 1616.63,-638.54 1616.63,-623.62 1729.93,-613.08 1890.17,-613.08 2003.47,-623.62"/>
<text text-anchor="middle" x="1810.05" y="-627.38" font-family="Times,serif" font-size="14.00">pg_remove : Force follower postgres shutdown</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_2917aa14 -->
<g id="edge_47374c40" class="edge">
<title>role_87b92813-&gt;task_2917aa14</title>
<g id="a_edge_47374c40"><a xlink:title="28 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#3a00cc" d="M776.41,-1071.9C781.64,-1002.05 810.79,-749.79 962.58,-647.08 1014.45,-611.98 1372.57,-616.53 1606.08,-623.49" id="path_edge_47374c40"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1606.31,-627 1616.41,-623.8 1606.52,-620 1606.31,-627"/>
</a>
</g>
<g id="a_edge_47374c40-label"><a xlink:title="28 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_47374c40" text-anchor="middle" startOffset="50%">28 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_2917aa14"/></links></g>
<!-- task_36cd76cf -->
<g id="task_36cd76cf" class="node">
<title>task_36cd76cf</title>
<g id="a_task_36cd76cf"><a xlink:title="pg_remove : Remove leader postgres service from consul">
<polygon fill="none" stroke="#3a00cc" points="2043.67,-569.62 2043.67,-584.54 1906.82,-595.08 1713.28,-595.08 1576.43,-584.54 1576.43,-569.62 1713.28,-559.08 1906.82,-559.08 2043.67,-569.62"/>
<text text-anchor="middle" x="1810.05" y="-573.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader postgres service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_36cd76cf -->
<g id="edge_4273225b" class="edge">
<title>role_87b92813-&gt;task_36cd76cf</title>
<g id="a_edge_4273225b"><a xlink:title="29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M775.64,-1071.84C778,-997.5 797.85,-715.74 962.58,-599.08 1070.63,-522.55 1445.75,-542.83 1658.58,-561.57" id="path_edge_4273225b"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1658.32,-565.06 1668.59,-562.46 1658.94,-558.09 1658.32,-565.06"/>
</a>
</g>
<g id="a_edge_4273225b-label"><a xlink:title="29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_4273225b" text-anchor="middle" startOffset="50%">29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_36cd76cf"/></links></g>
<!-- task_8f544fd4 -->
<g id="task_8f544fd4" class="node">
<title>task_8f544fd4</title>
<g id="a_task_8f544fd4"><a xlink:title="pg_remove : Remove leader patroni service from consul">
<polygon fill="none" stroke="#3a00cc" points="2039.23,-515.62 2039.23,-530.54 1904.98,-541.08 1715.12,-541.08 1580.87,-530.54 1580.87,-515.62 1715.12,-505.08 1904.98,-505.08 2039.23,-515.62"/>
<text text-anchor="middle" x="1810.05" y="-519.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader patroni service from consul</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_8f544fd4 -->
<g id="edge_51ca755a" class="edge">
<title>role_87b92813-&gt;task_8f544fd4</title>
<g id="a_edge_51ca755a"><a xlink:title="30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M778.44,-1072.04C794.15,-983.18 867.78,-593.7 962.58,-525.08 1013.86,-487.96 1379.61,-499.9 1613.26,-511.68" id="path_edge_51ca755a"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1613.42,-515.19 1623.59,-512.21 1613.78,-508.2 1613.42,-515.19"/>
</a>
</g>
<g id="a_edge_51ca755a-label"><a xlink:title="30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_51ca755a" text-anchor="middle" startOffset="50%">30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_8f544fd4"/></links></g>
<!-- task_e67e07f1 -->
<g id="task_e67e07f1" class="node">
<title>task_e67e07f1</title>
<g id="a_task_e67e07f1"><a xlink:title="pg_remove : Reload leader consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#3a00cc" points="2077.2,-461.62 2077.2,-476.54 1920.71,-487.08 1699.39,-487.08 1542.9,-476.54 1542.9,-461.62 1699.39,-451.08 1920.71,-451.08 2077.2,-461.62"/>
<text text-anchor="middle" x="1810.05" y="-465.38" font-family="Times,serif" font-size="14.00">pg_remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_e67e07f1 -->
<g id="edge_e98299e5" class="edge">
<title>role_87b92813-&gt;task_e67e07f1</title>
<g id="a_edge_e98299e5"><a xlink:title="31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#3a00cc" d="M778.03,-1071.89C792.25,-978.64 861.73,-555.64 962.58,-480.08 1010.7,-444.03 1343.21,-449.57 1576.84,-458.27" id="path_edge_e98299e5"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1576.72,-461.77 1586.85,-458.64 1576.99,-454.77 1576.72,-461.77"/>
</a>
</g>
<g id="a_edge_e98299e5-label"><a xlink:title="31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_e98299e5" text-anchor="middle" startOffset="50%">31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_e67e07f1"/></links></g>
<!-- task_42f98c1f -->
<g id="task_42f98c1f" class="node">
<title>task_42f98c1f</title>
<g id="a_task_42f98c1f"><a xlink:title="pg_remove : Stop and disable leader patroni service">
<polygon fill="none" stroke="#3a00cc" points="2021.14,-407.62 2021.14,-422.54 1897.49,-433.08 1722.61,-433.08 1598.95,-422.54 1598.95,-407.62 1722.61,-397.08 1897.49,-397.08 2021.14,-407.62"/>
<text text-anchor="middle" x="1810.05" y="-411.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader patroni service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_42f98c1f -->
<g id="edge_dcd8b001" class="edge">
<title>role_87b92813-&gt;task_42f98c1f</title>
<g id="a_edge_dcd8b001"><a xlink:title="32 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#3a00cc" d="M777.63,-1071.8C790.31,-974.11 855.11,-514.94 962.58,-432.08 1011.71,-394.2 1364.17,-398.89 1598.52,-406.47" id="path_edge_dcd8b001"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1598.44,-409.97 1608.55,-406.8 1598.67,-402.98 1598.44,-409.97"/>
</a>
</g>
<g id="a_edge_dcd8b001-label"><a xlink:title="32 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_dcd8b001" text-anchor="middle" startOffset="50%">32 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_42f98c1f"/></links></g>
<!-- task_be591a2c -->
<g id="task_be591a2c" class="node">
<title>task_be591a2c</title>
<g id="a_task_be591a2c"><a xlink:title="pg_remove : Stop and disable leader postgres service">
<polygon fill="none" stroke="#3a00cc" points="2025.99,-353.62 2025.99,-368.54 1899.5,-379.08 1720.6,-379.08 1594.11,-368.54 1594.11,-353.62 1720.6,-343.08 1899.5,-343.08 2025.99,-353.62"/>
<text text-anchor="middle" x="1810.05" y="-357.38" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader postgres service</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_be591a2c -->
<g id="edge_8f8b9a5f" class="edge">
<title>role_87b92813-&gt;task_be591a2c</title>
<g id="a_edge_8f8b9a5f"><a xlink:title="33 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#3a00cc" d="M777.26,-1071.8C788.39,-969.81 848.09,-472.51 962.58,-382.08 1010.52,-344.21 1353.13,-346.67 1587.5,-353.05" id="path_edge_8f8b9a5f"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1587.44,-356.55 1597.53,-353.33 1587.64,-349.55 1587.44,-356.55"/>
</a>
</g>
<g id="a_edge_8f8b9a5f-label"><a xlink:title="33 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_8f8b9a5f" text-anchor="middle" startOffset="50%">33 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_be591a2c"/></links></g>
<!-- task_fd85ae13 -->
<g id="task_fd85ae13" class="node">
<title>task_fd85ae13</title>
<g id="a_task_fd85ae13"><a xlink:title="pg_remove : Force leader postgres shutdown">
<polygon fill="none" stroke="#3a00cc" points="1994.18,-299.62 1994.18,-314.54 1886.32,-325.08 1733.78,-325.08 1625.92,-314.54 1625.92,-299.62 1733.78,-289.08 1886.32,-289.08 1994.18,-299.62"/>
<text text-anchor="middle" x="1810.05" y="-303.38" font-family="Times,serif" font-size="14.00">pg_remove : Force leader postgres shutdown</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_fd85ae13 -->
<g id="edge_a848b752" class="edge">
<title>role_87b92813-&gt;task_fd85ae13</title>
<g id="a_edge_a848b752"><a xlink:title="34 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#3a00cc" d="M776.9,-1071.89C786.48,-965.79 840.62,-428.34 962.58,-330.08 1012.09,-290.19 1381.31,-293.71 1615.48,-300.19" id="path_edge_a848b752"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1615.39,-303.69 1625.49,-300.47 1615.59,-296.69 1615.39,-303.69"/>
</a>
</g>
<g id="a_edge_a848b752-label"><a xlink:title="34 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_a848b752" text-anchor="middle" startOffset="50%">34 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_fd85ae13"/></links></g>
<!-- task_6eaf878d -->
<g id="task_6eaf878d" class="node">
<title>task_6eaf878d</title>
<g id="a_task_6eaf878d"><a xlink:title="pg_remove : Remove consul metadata about pgsql cluster">
<polygon fill="none" stroke="#3a00cc" points="2044.98,-245.62 2044.98,-260.54 1907.36,-271.08 1712.74,-271.08 1575.12,-260.54 1575.12,-245.62 1712.74,-235.08 1907.36,-235.08 2044.98,-245.62"/>
<text text-anchor="middle" x="1810.05" y="-249.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove consul metadata about pgsql cluster</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_6eaf878d -->
<g id="edge_98968e7f" class="edge">
<title>role_87b92813-&gt;task_6eaf878d</title>
<g id="a_edge_98968e7f"><a xlink:title="35 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#3a00cc" d="M776.58,-1072.09C784.63,-962.25 832.89,-383.33 962.58,-277.08 1008.58,-239.39 1334.57,-239.76 1568.25,-245.13" id="path_edge_98968e7f"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1568.18,-248.63 1578.26,-245.36 1568.34,-241.63 1568.18,-248.63"/>
</a>
</g>
<g id="a_edge_98968e7f-label"><a xlink:title="35 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_98968e7f" text-anchor="middle" startOffset="50%">35 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_6eaf878d"/></links></g>
<!-- task_bde3192c -->
<g id="task_bde3192c" class="node">
<title>task_bde3192c</title>
<g id="a_task_bde3192c"><a xlink:title="pg_remove : Remove postgres data">
<polygon fill="none" stroke="#3a00cc" points="1958.02,-191.62 1958.02,-206.54 1871.34,-217.08 1748.76,-217.08 1662.08,-206.54 1662.08,-191.62 1748.76,-181.08 1871.34,-181.08 1958.02,-191.62"/>
<text text-anchor="middle" x="1810.05" y="-195.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres data</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_bde3192c -->
<g id="edge_7b25a1e4" class="edge">
<title>role_87b92813-&gt;task_bde3192c</title>
<g id="a_edge_7b25a1e4"><a xlink:title="36 [when: not pg_safeguard|bool and rm_pgdata|bool]">
<path fill="none" stroke="#3a00cc" d="M776.32,-1072.03C782.94,-957.88 825.03,-337.35 962.58,-223.08 1014.11,-180.27 1421.45,-186.26 1651.75,-193.26" id="path_edge_7b25a1e4"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1651.8,-196.76 1661.9,-193.57 1652.02,-189.76 1651.8,-196.76"/>
</a>
</g>
<g id="a_edge_7b25a1e4-label"><a xlink:title="36 [when: not pg_safeguard|bool and rm_pgdata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_7b25a1e4" text-anchor="middle" startOffset="50%">36 [when: not pg_safeguard|bool and rm_pgdata|bool]</textPath></text>
</a>
</g>
<links><link target="task_bde3192c"/></links></g>
<!-- task_cedac08c -->
<g id="task_cedac08c" class="node">
<title>task_cedac08c</title>
<g id="a_task_cedac08c"><a xlink:title="pg_remove : Remove pg packages">
<polygon fill="none" stroke="#3a00cc" points="1954.89,-137.62 1954.89,-152.54 1870.04,-163.08 1750.06,-163.08 1665.21,-152.54 1665.21,-137.62 1750.06,-127.08 1870.04,-127.08 1954.89,-137.62"/>
<text text-anchor="middle" x="1810.05" y="-141.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg packages</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_cedac08c -->
<g id="edge_a2c73712" class="edge">
<title>role_87b92813-&gt;task_cedac08c</title>
<g id="a_edge_a2c73712"><a xlink:title="37 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#3a00cc" d="M776.07,-1072.08C781.33,-954.01 817.1,-291.44 962.58,-169.08 1014.09,-125.75 1425.17,-132.14 1654.94,-139.28" id="path_edge_a2c73712"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1654.96,-142.78 1665.07,-139.6 1655.18,-135.78 1654.96,-142.78"/>
</a>
</g>
<g id="a_edge_a2c73712-label"><a xlink:title="37 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_a2c73712" text-anchor="middle" startOffset="50%">37 [when: not pg_safeguard|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_cedac08c"/></links></g>
<!-- task_c4b9f5be -->
<g id="task_c4b9f5be" class="node">
<title>task_c4b9f5be</title>
<g id="a_task_c4b9f5be"><a xlink:title="pg_remove : Remove pg extensions">
<polygon fill="none" stroke="#3a00cc" points="1959.74,-83.62 1959.74,-98.54 1872.05,-109.08 1748.05,-109.08 1660.36,-98.54 1660.36,-83.62 1748.05,-73.08 1872.05,-73.08 1959.74,-83.62"/>
<text text-anchor="middle" x="1810.05" y="-87.38" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg extensions</text>
</a>
</g>
</g>
<!-- role_87b92813&#45;&gt;task_c4b9f5be -->
<g id="edge_367209a9" class="edge">
<title>role_87b92813-&gt;task_c4b9f5be</title>
<g id="a_edge_367209a9"><a xlink:title="38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#3a00cc" d="M775.86,-1071.83C779.85,-949.14 809.28,-245.44 962.58,-115.08 1191.49,79.57 1594.44,-21.29 1747.62,-69.88" id="path_edge_367209a9"/>
<polygon fill="#3a00cc" stroke="#3a00cc" points="1746.75,-73.27 1757.34,-73 1748.89,-66.61 1746.75,-73.27"/>
</a>
</g>
<g id="a_edge_367209a9-label"><a xlink:title="38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3a00cc" dy="-1%"><textPath xlink:href="#path_edge_367209a9" text-anchor="middle" startOffset="50%">38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_c4b9f5be"/></links></g>
</g>
</svg>