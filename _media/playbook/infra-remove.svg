<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220226.1711)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2020pt" height="2091pt" viewBox="0.00 0.00 2020.06 2091.02" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param rootElement
 */
function highlightLinkedNodes(rootElement) {
    $(rootElement).find('link').each(function (index, element) {
        let target = $(element).attr('target');
        let currentElement = $('#' + target);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Recursively highlight
        highlightLinkedNodes(currentElement);
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} rootElement
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the rootElement is the current selected element
 */
function unHighlightLinkedNodes(rootElement, isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');

    // Do not unhighlight the current current selected element
    if ($(rootElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(rootElement).find('link').each(function (index, element) {
            let linkedElementId = $(element).attr('target');
            let linkedElement = $('#' + linkedElementId);

            if (linkedElement.attr("id") !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);
                // Recursively unhighlight
                unHighlightLinkedNodes(linkedElement, isHover);
            }
            
        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget);
}

/**
 * Hover handler for mouseleave event
 * @param event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, true);
}

/**
 * Handler when clicking on some elements
 * @param event
 */
function clickOnElement(event) {
    let newClickedElement = $(event.currentTarget);

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked the current selected node
        unHighlightLinkedNodes(currentSelectedElement, false);

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement);
        currentSelectedElement = newClickedElement;
    }
}


$("#svg").ready(function () {
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2087.02)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2087.02 2016.06,-2087.02 2016.06,4 -4,4"/>
<!-- infra&#45;remove.yml -->
<g id="root_node" class="node">
<title>infra-remove.yml</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="73.44" cy="-977.02" rx="73.39" ry="18"/>
<text text-anchor="middle" x="73.44" y="-973.32" font-family="Times,serif" font-size="14.00">infra-remove.yml</text>
</g>
<!-- play_5d70da33 -->
<g id="play_5d70da33" class="node">
<title>play_5d70da33</title>
<g id="a_play_5d70da33"><a xlink:title="10.10.10.10">
<polygon fill="#998933" stroke="#998933" points="352.89,-1031.02 193.89,-1031.02 193.89,-995.02 352.89,-995.02 352.89,-1031.02"/>
<text text-anchor="middle" x="273.39" y="-1009.32" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove (1)</text>
</a>
</g>
<links><link target="edge_121ed5c1"/></links></g>
<!-- infra&#45;remove.yml&#45;&gt;play_5d70da33 -->
<g id="edge_f2026f63" class="edge">
<title>infra-remove.yml-&gt;play_5d70da33</title>
<g id="a_edge_f2026f63"><a xlink:title="1 ">
<path fill="none" stroke="#998933" d="M133.03,-987.68C148.94,-990.57 166.54,-993.77 183.72,-996.9" id="path_edge_f2026f63"/>
<polygon fill="#998933" stroke="#998933" points="183.3,-1000.38 193.77,-998.72 184.56,-993.49 183.3,-1000.38"/>
</a>
</g>
<g id="a_edge_f2026f63-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_f2026f63" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="play_5d70da33"/></links></g>
<!-- play_16de0514 -->
<g id="play_16de0514" class="node">
<title>play_16de0514</title>
<g id="a_play_16de0514"><a xlink:title="10.10.10.10">
<polygon fill="#1ea3ae" stroke="#1ea3ae" points="344.89,-968.02 201.89,-968.02 201.89,-932.02 344.89,-932.02 344.89,-968.02"/>
<text text-anchor="middle" x="273.39" y="-946.32" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Infra Remove (1)</text>
</a>
</g>
<links><link target="edge_b048d852"/><link target="edge_5aa27cdf"/><link target="edge_3a49b07e"/></links></g>
<!-- infra&#45;remove.yml&#45;&gt;play_16de0514 -->
<g id="edge_48b0666b" class="edge">
<title>infra-remove.yml-&gt;play_16de0514</title>
<g id="a_edge_48b0666b"><a xlink:title="2 ">
<path fill="none" stroke="#1ea3ae" d="M135.7,-967.26C145.46,-965.78 155.44,-964.32 164.89,-963.02 173.55,-961.83 182.61,-960.64 191.64,-959.49" id="path_edge_48b0666b"/>
<polygon fill="#1ea3ae" stroke="#1ea3ae" points="192.31,-962.94 201.8,-958.22 191.44,-955.99 192.31,-962.94"/>
</a>
</g>
<g id="a_edge_48b0666b-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#1ea3ae" dy="-1%"><textPath xlink:href="#path_edge_48b0666b" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="play_16de0514"/></links></g>
<!-- role_544a20e2 -->
<g id="role_544a20e2" class="node">
<title>role_544a20e2</title>
<g id="a_role_544a20e2"><a xlink:title="pg_remove">
<ellipse fill="none" stroke="#998933" cx="731.5" cy="-1039.02" rx="72.59" ry="18"/>
<text text-anchor="middle" x="731.5" y="-1035.32" font-family="Times,serif" font-size="14.00">[role] pg_remove</text>
</a>
</g>
<links><link target="edge_93867bed"/><link target="edge_67146302"/><link target="edge_91eefdc8"/><link target="edge_b4894f8b"/><link target="edge_023e3480"/><link target="edge_e37314af"/><link target="edge_9402e4de"/><link target="edge_bb36129f"/><link target="edge_53bf710d"/><link target="edge_2fe5ba6d"/><link target="edge_47c6d5fe"/><link target="edge_1ab5cd52"/><link target="edge_fab92c01"/><link target="edge_e365df80"/><link target="edge_409a3df5"/><link target="edge_151b0217"/><link target="edge_7b64b348"/><link target="edge_f966a5e6"/><link target="edge_d39155e3"/><link target="edge_f2200490"/><link target="edge_f94fb836"/><link target="edge_5a183e5a"/><link target="edge_6507104a"/><link target="edge_e7a144b6"/><link target="edge_fc8d9d5e"/><link target="edge_5fbe3328"/><link target="edge_0507faad"/><link target="edge_0c129129"/><link target="edge_108d848f"/><link target="edge_db74779c"/><link target="edge_59bbddd7"/><link target="edge_b6ebc797"/><link target="edge_049f74bb"/><link target="edge_f323e712"/><link target="edge_bb49508e"/><link target="edge_78a55e5f"/><link target="edge_861e2941"/><link target="edge_396ec5eb"/></links></g>
<!-- play_5d70da33&#45;&gt;role_544a20e2 -->
<g id="edge_121ed5c1" class="edge">
<title>play_5d70da33-&gt;role_544a20e2</title>
<g id="a_edge_121ed5c1"><a xlink:title="1 ">
<path fill="none" stroke="#998933" d="M353.05,-1017.51C436.11,-1022.24 566.36,-1029.67 650.07,-1034.44" id="path_edge_121ed5c1"/>
<polygon fill="#998933" stroke="#998933" points="650.12,-1037.95 660.3,-1035.02 650.51,-1030.96 650.12,-1037.95"/>
</a>
</g>
<g id="a_edge_121ed5c1-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_121ed5c1" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_544a20e2"/></links></g>
<!-- task_540ace72 -->
<g id="task_540ace72" class="node">
<title>task_540ace72</title>
<g id="a_task_540ace72"><a xlink:title="pg_remove : Remove pgsql target from prometheus">
<polygon fill="none" stroke="#998933" points="1947.09,-2030.57 1947.09,-2045.48 1823.19,-2056.02 1647.98,-2056.02 1524.08,-2045.48 1524.08,-2030.57 1647.98,-2020.02 1823.19,-2020.02 1947.09,-2030.57"/>
<text text-anchor="middle" x="1735.58" y="-2034.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgsql target from prometheus</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_540ace72 -->
<g id="edge_93867bed" class="edge">
<title>role_544a20e2-&gt;task_540ace72</title>
<g id="a_edge_93867bed"><a xlink:title="1 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M733.32,-1057.18C739.25,-1179.26 779.75,-1879.45 933.11,-2009.02 1029.14,-2090.15 1388.47,-2071.26 1591.87,-2053.08" id="path_edge_93867bed"/>
<polygon fill="#998933" stroke="#998933" points="1592.4,-2056.55 1602.04,-2052.16 1591.76,-2049.58 1592.4,-2056.55"/>
</a>
</g>
<g id="a_edge_93867bed-label"><a xlink:title="1 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_93867bed" text-anchor="middle" startOffset="50%">1 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_540ace72"/></links></g>
<!-- task_22c7f99e -->
<g id="task_22c7f99e" class="node">
<title>task_22c7f99e</title>
<g id="a_task_22c7f99e"><a xlink:title="pg_remove : Remove grafana datasource on meta node">
<polygon fill="none" stroke="#998933" points="1959.91,-1976.57 1959.91,-1991.48 1828.5,-2002.02 1642.66,-2002.02 1511.25,-1991.48 1511.25,-1976.57 1642.66,-1966.02 1828.5,-1966.02 1959.91,-1976.57"/>
<text text-anchor="middle" x="1735.58" y="-1980.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_22c7f99e -->
<g id="edge_67146302" class="edge">
<title>role_544a20e2-&gt;task_22c7f99e</title>
<g id="a_edge_67146302"><a xlink:title="2 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M733.56,-1057.31C740.87,-1175.79 787.68,-1833.6 933.11,-1955.02 975.99,-1990.82 1280.03,-1993.14 1500.98,-1989.88" id="path_edge_67146302"/>
<polygon fill="#998933" stroke="#998933" points="1501.16,-1993.37 1511.1,-1989.72 1501.05,-1986.38 1501.16,-1993.37"/>
</a>
</g>
<g id="a_edge_67146302-label"><a xlink:title="2 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_67146302" text-anchor="middle" startOffset="50%">2 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_22c7f99e"/></links></g>
<!-- task_77720a64 -->
<g id="task_77720a64" class="node">
<title>task_77720a64</title>
<g id="a_task_77720a64"><a xlink:title="pg_remove : Remove haproxy upstream from nginx">
<polygon fill="none" stroke="#998933" points="1947.99,-1922.57 1947.99,-1937.48 1823.57,-1948.02 1647.6,-1948.02 1523.17,-1937.48 1523.17,-1922.57 1647.6,-1912.02 1823.57,-1912.02 1947.99,-1922.57"/>
<text text-anchor="middle" x="1735.58" y="-1926.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy upstream from nginx</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_77720a64 -->
<g id="edge_91eefdc8" class="edge">
<title>role_544a20e2-&gt;task_77720a64</title>
<g id="a_edge_91eefdc8"><a xlink:title="3 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M733.83,-1057.34C742.56,-1171.82 795.55,-1787.69 933.11,-1901.02 977,-1937.18 1291.25,-1939 1512.94,-1935.58" id="path_edge_91eefdc8"/>
<polygon fill="#998933" stroke="#998933" points="1513.15,-1939.08 1523.09,-1935.42 1513.04,-1932.08 1513.15,-1939.08"/>
</a>
</g>
<g id="a_edge_91eefdc8-label"><a xlink:title="3 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_91eefdc8" text-anchor="middle" startOffset="50%">3 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_77720a64"/></links></g>
<!-- task_a3efb351 -->
<g id="task_a3efb351" class="node">
<title>task_a3efb351</title>
<g id="a_task_a3efb351"><a xlink:title="pg_remove : Remove haproxy url location from nginx">
<polygon fill="none" stroke="#998933" points="1956.38,-1868.57 1956.38,-1883.48 1827.04,-1894.02 1644.13,-1894.02 1514.79,-1883.48 1514.79,-1868.57 1644.13,-1858.02 1827.04,-1858.02 1956.38,-1868.57"/>
<text text-anchor="middle" x="1735.58" y="-1872.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy url location from nginx</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_a3efb351 -->
<g id="edge_b4894f8b" class="edge">
<title>role_544a20e2-&gt;task_a3efb351</title>
<g id="a_edge_b4894f8b"><a xlink:title="4 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M734.13,-1057.24C744.36,-1167.17 803.55,-1740.77 933.11,-1846.02 976.68,-1881.42 1283.43,-1884.13 1504.47,-1881.28" id="path_edge_b4894f8b"/>
<polygon fill="#998933" stroke="#998933" points="1504.65,-1884.78 1514.6,-1881.15 1504.56,-1877.78 1504.65,-1884.78"/>
</a>
</g>
<g id="a_edge_b4894f8b-label"><a xlink:title="4 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_b4894f8b" text-anchor="middle" startOffset="50%">4 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_a3efb351"/></links></g>
<!-- task_0d57c683 -->
<g id="task_0d57c683" class="node">
<title>task_0d57c683</title>
<g id="a_task_0d57c683"><a xlink:title="pg_remove : Reload nginx to remove haproxy upstream">
<polygon fill="none" stroke="#998933" points="1963.04,-1814.57 1963.04,-1829.48 1829.8,-1840.02 1641.37,-1840.02 1508.13,-1829.48 1508.13,-1814.57 1641.37,-1804.02 1829.8,-1804.02 1963.04,-1814.57"/>
<text text-anchor="middle" x="1735.58" y="-1818.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload nginx to remove haproxy upstream</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_0d57c683 -->
<g id="edge_023e3480" class="edge">
<title>role_544a20e2-&gt;task_0d57c683</title>
<g id="a_edge_023e3480"><a xlink:title="5 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M734.45,-1057.05C746.2,-1162.18 811.28,-1694.72 933.11,-1792.02 976.56,-1826.72 1277.82,-1829.8 1498.25,-1827.21" id="path_edge_023e3480"/>
<polygon fill="#998933" stroke="#998933" points="1498.39,-1830.71 1508.35,-1827.08 1498.31,-1823.71 1498.39,-1830.71"/>
</a>
</g>
<g id="a_edge_023e3480-label"><a xlink:title="5 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_023e3480" text-anchor="middle" startOffset="50%">5 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_0d57c683"/></links></g>
<!-- task_5e7a353b -->
<g id="task_5e7a353b" class="node">
<title>task_5e7a353b</title>
<g id="a_task_5e7a353b"><a xlink:title="pg_remove : Remove cluster service from consul">
<polygon fill="none" stroke="#998933" points="1937.39,-1760.57 1937.39,-1775.48 1819.17,-1786.02 1651.99,-1786.02 1533.78,-1775.48 1533.78,-1760.57 1651.99,-1750.02 1819.17,-1750.02 1937.39,-1760.57"/>
<text text-anchor="middle" x="1735.58" y="-1764.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove cluster service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_5e7a353b -->
<g id="edge_e37314af" class="edge">
<title>role_544a20e2-&gt;task_5e7a353b</title>
<g id="a_edge_e37314af"><a xlink:title="6 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M734.84,-1057.04C748.31,-1157.57 819.24,-1647.77 933.11,-1737.02 978.54,-1772.63 1301.41,-1775.12 1523.22,-1772.45" id="path_edge_e37314af"/>
<polygon fill="#998933" stroke="#998933" points="1523.42,-1775.95 1533.38,-1772.32 1523.34,-1768.95 1523.42,-1775.95"/>
</a>
</g>
<g id="a_edge_e37314af-label"><a xlink:title="6 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_e37314af" text-anchor="middle" startOffset="50%">6 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_5e7a353b"/></links></g>
<!-- task_deb09d5d -->
<g id="task_deb09d5d" class="node">
<title>task_deb09d5d</title>
<g id="a_task_deb09d5d"><a xlink:title="pg_remove : Remove haproxy service from consul">
<polygon fill="none" stroke="#998933" points="1943.14,-1706.57 1943.14,-1721.48 1821.56,-1732.02 1649.61,-1732.02 1528.02,-1721.48 1528.02,-1706.57 1649.61,-1696.02 1821.56,-1696.02 1943.14,-1706.57"/>
<text text-anchor="middle" x="1735.58" y="-1710.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_deb09d5d -->
<g id="edge_9402e4de" class="edge">
<title>role_544a20e2-&gt;task_deb09d5d</title>
<g id="a_edge_9402e4de"><a xlink:title="7 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M735.32,-1057.22C750.63,-1153.45 827.02,-1601.75 933.11,-1683.02 978.53,-1717.82 1295.96,-1720.71 1517.42,-1718.33" id="path_edge_9402e4de"/>
<polygon fill="#998933" stroke="#998933" points="1517.6,-1721.83 1527.56,-1718.21 1517.52,-1714.83 1517.6,-1721.83"/>
</a>
</g>
<g id="a_edge_9402e4de-label"><a xlink:title="7 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_9402e4de" text-anchor="middle" startOffset="50%">7 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_deb09d5d"/></links></g>
<!-- task_7a110b00 -->
<g id="task_7a110b00" class="node">
<title>task_7a110b00</title>
<g id="a_task_7a110b00"><a xlink:title="pg_remove : Reload consul to dereigster haproxy">
<polygon fill="none" stroke="#998933" points="1936.98,-1652.57 1936.98,-1667.48 1819,-1678.02 1652.16,-1678.02 1534.18,-1667.48 1534.18,-1652.57 1652.16,-1642.02 1819,-1642.02 1936.98,-1652.57"/>
<text text-anchor="middle" x="1735.58" y="-1656.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster haproxy</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_7a110b00 -->
<g id="edge_bb36129f" class="edge">
<title>role_544a20e2-&gt;task_7a110b00</title>
<g id="a_edge_bb36129f"><a xlink:title="8 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M732.03,-1057.27C731.02,-1140.12 738.98,-1483.12 933.11,-1628.02 979.41,-1662.58 1302.47,-1665.78 1524.03,-1663.76" id="path_edge_bb36129f"/>
<polygon fill="#998933" stroke="#998933" points="1524.2,-1667.26 1534.17,-1663.66 1524.14,-1660.26 1524.2,-1667.26"/>
</a>
</g>
<g id="a_edge_bb36129f-label"><a xlink:title="8 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_bb36129f" text-anchor="middle" startOffset="50%">8 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_7a110b00"/></links></g>
<!-- task_963f12c0 -->
<g id="task_963f12c0" class="node">
<title>task_963f12c0</title>
<g id="a_task_963f12c0"><a xlink:title="pg_remove : Stop and disable haproxy load balancer">
<polygon fill="none" stroke="#998933" points="1949.31,-1598.57 1949.31,-1613.48 1824.11,-1624.02 1647.06,-1624.02 1521.86,-1613.48 1521.86,-1598.57 1647.06,-1588.02 1824.11,-1588.02 1949.31,-1598.57"/>
<text text-anchor="middle" x="1735.58" y="-1602.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable haproxy load balancer</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_963f12c0 -->
<g id="edge_53bf710d" class="edge">
<title>role_544a20e2-&gt;task_963f12c0</title>
<g id="a_edge_53bf710d"><a xlink:title="9 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M732.71,-1057.2C734.71,-1135.34 754.04,-1444.56 933.11,-1574.02 979.04,-1607.23 1290.72,-1611.14 1511.55,-1609.59" id="path_edge_53bf710d"/>
<polygon fill="#998933" stroke="#998933" points="1511.69,-1613.09 1521.67,-1609.51 1511.64,-1606.09 1511.69,-1613.09"/>
</a>
</g>
<g id="a_edge_53bf710d-label"><a xlink:title="9 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_53bf710d" text-anchor="middle" startOffset="50%">9 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_963f12c0"/></links></g>
<!-- task_0311df57 -->
<g id="task_0311df57" class="node">
<title>task_0311df57</title>
<g id="a_task_0311df57"><a xlink:title="pg_remove : Stop and disable vip-manager">
<polygon fill="none" stroke="#998933" points="1912.64,-1544.57 1912.64,-1559.48 1808.92,-1570.02 1662.24,-1570.02 1558.52,-1559.48 1558.52,-1544.57 1662.24,-1534.02 1808.92,-1534.02 1912.64,-1544.57"/>
<text text-anchor="middle" x="1735.58" y="-1548.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable vip-manager</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_0311df57 -->
<g id="edge_2fe5ba6d" class="edge">
<title>role_544a20e2-&gt;task_0311df57</title>
<g id="a_edge_2fe5ba6d"><a xlink:title="10 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M733.54,-1057.09C738.81,-1130.12 769.28,-1405 933.11,-1519.02 982.25,-1553.23 1327.09,-1556.37 1548.14,-1554.75" id="path_edge_2fe5ba6d"/>
<polygon fill="#998933" stroke="#998933" points="1548.27,-1558.24 1558.25,-1554.67 1548.22,-1551.24 1548.27,-1558.24"/>
</a>
</g>
<g id="a_edge_2fe5ba6d-label"><a xlink:title="10 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_2fe5ba6d" text-anchor="middle" startOffset="50%">10 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_0311df57"/></links></g>
<!-- task_13b7ad98 -->
<g id="task_13b7ad98" class="node">
<title>task_13b7ad98</title>
<g id="a_task_13b7ad98"><a xlink:title="pg_remove : Remove pg_exporter service from consul">
<polygon fill="none" stroke="#998933" points="1957.69,-1490.57 1957.69,-1505.48 1827.58,-1516.02 1643.58,-1516.02 1513.48,-1505.48 1513.48,-1490.57 1643.58,-1480.02 1827.58,-1480.02 1957.69,-1490.57"/>
<text text-anchor="middle" x="1735.58" y="-1494.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_13b7ad98 -->
<g id="edge_47c6d5fe" class="edge">
<title>role_544a20e2-&gt;task_13b7ad98</title>
<g id="a_edge_47c6d5fe"><a xlink:title="11 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M734.59,-1057.36C743.45,-1125.53 784.58,-1365.42 933.11,-1464.02 979.71,-1494.96 1283.47,-1500.46 1503.27,-1500.26" id="path_edge_47c6d5fe"/>
<polygon fill="#998933" stroke="#998933" points="1503.35,-1503.76 1513.34,-1500.25 1503.34,-1496.76 1503.35,-1503.76"/>
</a>
</g>
<g id="a_edge_47c6d5fe-label"><a xlink:title="11 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_47c6d5fe" text-anchor="middle" startOffset="50%">11 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_13b7ad98"/></links></g>
<!-- task_cb4da461 -->
<g id="task_cb4da461" class="node">
<title>task_cb4da461</title>
<g id="a_task_cb4da461"><a xlink:title="pg_remove : Reload consul to dereigster pg_exporter">
<polygon fill="none" stroke="#998933" points="1951.53,-1436.57 1951.53,-1451.48 1825.03,-1462.02 1646.14,-1462.02 1519.64,-1451.48 1519.64,-1436.57 1646.14,-1426.02 1825.03,-1426.02 1951.53,-1436.57"/>
<text text-anchor="middle" x="1735.58" y="-1440.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pg_exporter</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_cb4da461 -->
<g id="edge_1ab5cd52" class="edge">
<title>role_544a20e2-&gt;task_cb4da461</title>
<g id="a_edge_1ab5cd52"><a xlink:title="12 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M735.84,-1057.22C748.38,-1119.7 799,-1326.18 933.11,-1410.02 980.96,-1439.94 1289.46,-1445.6 1509.4,-1445.73" id="path_edge_1ab5cd52"/>
<polygon fill="#998933" stroke="#998933" points="1509.47,-1449.23 1519.47,-1445.73 1509.47,-1442.23 1509.47,-1449.23"/>
</a>
</g>
<g id="a_edge_1ab5cd52-label"><a xlink:title="12 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_1ab5cd52" text-anchor="middle" startOffset="50%">12 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_cb4da461"/></links></g>
<!-- task_aa563ea1 -->
<g id="task_aa563ea1" class="node">
<title>task_aa563ea1</title>
<g id="a_task_aa563ea1"><a xlink:title="pg_remove : Stop and disable pg_exporter service">
<polygon fill="none" stroke="#998933" points="1939.61,-1382.57 1939.61,-1397.48 1820.09,-1408.02 1651.07,-1408.02 1531.56,-1397.48 1531.56,-1382.57 1651.07,-1372.02 1820.09,-1372.02 1939.61,-1382.57"/>
<text text-anchor="middle" x="1735.58" y="-1386.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pg_exporter service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_aa563ea1 -->
<g id="edge_fab92c01" class="edge">
<title>role_544a20e2-&gt;task_aa563ea1</title>
<g id="a_edge_fab92c01"><a xlink:title="13 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M737.35,-1057.15C753.63,-1113.99 812.24,-1289.05 933.11,-1359.02 982.81,-1387.79 1301.26,-1392.36 1521.47,-1391.97" id="path_edge_fab92c01"/>
<polygon fill="#998933" stroke="#998933" points="1521.56,-1395.46 1531.55,-1391.94 1521.54,-1388.46 1521.56,-1395.46"/>
</a>
</g>
<g id="a_edge_fab92c01-label"><a xlink:title="13 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_fab92c01" text-anchor="middle" startOffset="50%">13 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_aa563ea1"/></links></g>
<!-- task_64312f45 -->
<g id="task_64312f45" class="node">
<title>task_64312f45</title>
<g id="a_task_64312f45"><a xlink:title="pg_remove : Remove pgbouncer_exporter service from consul">
<polygon fill="none" stroke="#998933" points="1988.19,-1328.57 1988.19,-1343.48 1840.22,-1354.02 1630.95,-1354.02 1482.97,-1343.48 1482.97,-1328.57 1630.95,-1318.02 1840.22,-1318.02 1988.19,-1328.57"/>
<text text-anchor="middle" x="1735.58" y="-1332.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_64312f45 -->
<g id="edge_e365df80" class="edge">
<title>role_544a20e2-&gt;task_64312f45</title>
<g id="a_edge_e365df80"><a xlink:title="14 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M739.1,-1057.24C758.95,-1108.92 823.52,-1256.41 933.11,-1314.02 980.24,-1338.8 1257.35,-1341.82 1472.68,-1340.24" id="path_edge_e365df80"/>
<polygon fill="#998933" stroke="#998933" points="1472.91,-1343.73 1482.89,-1340.16 1472.86,-1336.73 1472.91,-1343.73"/>
</a>
</g>
<g id="a_edge_e365df80-label"><a xlink:title="14 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_e365df80" text-anchor="middle" startOffset="50%">14 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_64312f45"/></links></g>
<!-- task_2e7a89ff -->
<g id="task_2e7a89ff" class="node">
<title>task_2e7a89ff</title>
<g id="a_task_2e7a89ff"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer_exporter">
<polygon fill="none" stroke="#998933" points="1982.03,-1274.57 1982.03,-1289.48 1837.66,-1300.02 1633.5,-1300.02 1489.14,-1289.48 1489.14,-1274.57 1633.5,-1264.02 1837.66,-1264.02 1982.03,-1274.57"/>
<text text-anchor="middle" x="1735.58" y="-1278.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer_exporter</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_2e7a89ff -->
<g id="edge_409a3df5" class="edge">
<title>role_544a20e2-&gt;task_2e7a89ff</title>
<g id="a_edge_409a3df5"><a xlink:title="15 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M742.13,-1057.04C766.87,-1101.16 837.48,-1214.22 933.11,-1258.02 1035.55,-1304.95 1328.95,-1302.12 1530.82,-1293.7" id="path_edge_409a3df5"/>
<polygon fill="#998933" stroke="#998933" points="1531.12,-1297.19 1540.96,-1293.27 1530.82,-1290.2 1531.12,-1297.19"/>
</a>
</g>
<g id="a_edge_409a3df5-label"><a xlink:title="15 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_409a3df5" text-anchor="middle" startOffset="50%">15 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_2e7a89ff"/></links></g>
<!-- task_55e77e0e -->
<g id="task_55e77e0e" class="node">
<title>task_55e77e0e</title>
<g id="a_task_55e77e0e"><a xlink:title="pg_remove : Stop and disable pgbouncer_exporter service">
<polygon fill="none" stroke="#998933" points="1970.52,-1220.57 1970.52,-1235.48 1832.9,-1246.02 1638.27,-1246.02 1500.65,-1235.48 1500.65,-1220.57 1638.27,-1210.02 1832.9,-1210.02 1970.52,-1220.57"/>
<text text-anchor="middle" x="1735.58" y="-1224.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer_exporter service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_55e77e0e -->
<g id="edge_151b0217" class="edge">
<title>role_544a20e2-&gt;task_55e77e0e</title>
<g id="a_edge_151b0217"><a xlink:title="16 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M746.76,-1056.85C776.73,-1092.74 850.36,-1172.96 933.11,-1204.02 1034.92,-1242.24 1310.98,-1242.75 1510.69,-1237.34" id="path_edge_151b0217"/>
<polygon fill="#998933" stroke="#998933" points="1510.83,-1240.84 1520.73,-1237.06 1510.64,-1233.84 1510.83,-1240.84"/>
</a>
</g>
<g id="a_edge_151b0217-label"><a xlink:title="16 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_151b0217" text-anchor="middle" startOffset="50%">16 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_55e77e0e"/></links></g>
<!-- task_46dafa00 -->
<g id="task_46dafa00" class="node">
<title>task_46dafa00</title>
<g id="a_task_46dafa00"><a xlink:title="pg_remove : Remove pgbouncer service from consul">
<polygon fill="none" stroke="#998933" points="1952.43,-1166.57 1952.43,-1181.48 1825.41,-1192.02 1645.76,-1192.02 1518.73,-1181.48 1518.73,-1166.57 1645.76,-1156.02 1825.41,-1156.02 1952.43,-1166.57"/>
<text text-anchor="middle" x="1735.58" y="-1170.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_46dafa00 -->
<g id="edge_7b64b348" class="edge">
<title>role_544a20e2-&gt;task_46dafa00</title>
<g id="a_edge_7b64b348"><a xlink:title="17 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M759.82,-1055.83C797.3,-1077.9 867.53,-1115.75 933.11,-1132.02 1135.44,-1182.23 1375.03,-1188.1 1539.22,-1184.3" id="path_edge_7b64b348"/>
<polygon fill="#998933" stroke="#998933" points="1539.52,-1187.8 1549.43,-1184.05 1539.35,-1180.8 1539.52,-1187.8"/>
</a>
</g>
<g id="a_edge_7b64b348-label"><a xlink:title="17 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_7b64b348" text-anchor="middle" startOffset="50%">17 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_46dafa00"/></links></g>
<!-- task_99a7dab4 -->
<g id="task_99a7dab4" class="node">
<title>task_99a7dab4</title>
<g id="a_task_99a7dab4"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer">
<polygon fill="none" stroke="#998933" points="1945.77,-1112.57 1945.77,-1127.48 1822.65,-1138.02 1648.52,-1138.02 1525.39,-1127.48 1525.39,-1112.57 1648.52,-1102.02 1822.65,-1102.02 1945.77,-1112.57"/>
<text text-anchor="middle" x="1735.58" y="-1116.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_99a7dab4 -->
<g id="edge_f966a5e6" class="edge">
<title>role_544a20e2-&gt;task_99a7dab4</title>
<g id="a_edge_f966a5e6"><a xlink:title="18 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M785.84,-1051.14C826.09,-1059.79 882.79,-1070.93 933.11,-1077.02 1129.08,-1100.73 1353.58,-1111.37 1515.03,-1116.14" id="path_edge_f966a5e6"/>
<polygon fill="#998933" stroke="#998933" points="1514.99,-1119.64 1525.08,-1116.43 1515.19,-1112.64 1514.99,-1119.64"/>
</a>
</g>
<g id="a_edge_f966a5e6-label"><a xlink:title="18 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_f966a5e6" text-anchor="middle" startOffset="50%">18 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_99a7dab4"/></links></g>
<!-- task_cc430d77 -->
<g id="task_cc430d77" class="node">
<title>task_cc430d77</title>
<g id="a_task_cc430d77"><a xlink:title="pg_remove : Stop and disable pgbouncer service">
<polygon fill="none" stroke="#998933" points="1933.85,-1058.57 1933.85,-1073.48 1817.71,-1084.02 1653.46,-1084.02 1537.31,-1073.48 1537.31,-1058.57 1653.46,-1048.02 1817.71,-1048.02 1933.85,-1058.57"/>
<text text-anchor="middle" x="1735.58" y="-1062.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_cc430d77 -->
<g id="edge_d39155e3" class="edge">
<title>role_544a20e2-&gt;task_cc430d77</title>
<g id="a_edge_d39155e3"><a xlink:title="19 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M804.16,-1040.95C953.17,-1044.97 1301.28,-1054.35 1526.89,-1060.43" id="path_edge_d39155e3"/>
<polygon fill="#998933" stroke="#998933" points="1527.12,-1063.93 1537.21,-1060.7 1527.31,-1056.94 1527.12,-1063.93"/>
</a>
</g>
<g id="a_edge_d39155e3-label"><a xlink:title="19 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_d39155e3" text-anchor="middle" startOffset="50%">19 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_cc430d77"/></links></g>
<!-- task_c826da6b -->
<g id="task_c826da6b" class="node">
<title>task_c826da6b</title>
<g id="a_task_c826da6b"><a xlink:title="pg_remove : Get actuall pg_role">
<polygon fill="none" stroke="#998933" points="1872.04,-1004.57 1872.04,-1019.48 1792.1,-1030.02 1679.06,-1030.02 1599.13,-1019.48 1599.13,-1004.57 1679.06,-994.02 1792.1,-994.02 1872.04,-1004.57"/>
<text text-anchor="middle" x="1735.58" y="-1008.32" font-family="Times,serif" font-size="14.00">pg_remove : Get actuall pg_role</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_c826da6b -->
<g id="edge_f2200490" class="edge">
<title>role_544a20e2-&gt;task_c826da6b</title>
<g id="a_edge_f2200490"><a xlink:title="20 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M800.69,-1033.36C839.48,-1030.36 888.99,-1026.92 933.11,-1025.02 1162.01,-1015.19 1427.97,-1012.62 1588.66,-1012.05" id="path_edge_f2200490"/>
<polygon fill="#998933" stroke="#998933" points="1589.1,-1015.55 1599.09,-1012.01 1589.08,-1008.55 1589.1,-1015.55"/>
</a>
</g>
<g id="a_edge_f2200490-label"><a xlink:title="20 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_f2200490" text-anchor="middle" startOffset="50%">20 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_c826da6b"/></links></g>
<!-- task_71652bdb -->
<g id="task_71652bdb" class="node">
<title>task_71652bdb</title>
<g id="a_task_71652bdb"><a xlink:title="pg_remove : Get pg_role from result">
<polygon fill="none" stroke="#998933" points="1888.81,-950.57 1888.81,-965.48 1799.05,-976.02 1672.12,-976.02 1582.36,-965.48 1582.36,-950.57 1672.12,-940.02 1799.05,-940.02 1888.81,-950.57"/>
<text text-anchor="middle" x="1735.58" y="-954.32" font-family="Times,serif" font-size="14.00">pg_remove : Get pg_role from result</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_71652bdb -->
<g id="edge_f94fb836" class="edge">
<title>role_544a20e2-&gt;task_71652bdb</title>
<g id="a_edge_f94fb836"><a xlink:title="21 [when: pg_clean|bool]">
<path fill="none" stroke="#998933" d="M804.59,-1038.79C839.54,-1036.14 881.18,-1029.09 915.11,-1012.02 925.22,-1006.94 922.76,-998.59 933.11,-994.02 1043.49,-945.37 1371.38,-946.07 1571.93,-951.62" id="path_edge_f94fb836"/>
<polygon fill="#998933" stroke="#998933" points="1571.88,-955.12 1581.98,-951.9 1572.08,-948.12 1571.88,-955.12"/>
</a>
</g>
<g id="a_edge_f94fb836-label"><a xlink:title="21 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_f94fb836" text-anchor="middle" startOffset="50%">21 [when: pg_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_71652bdb"/></links></g>
<!-- task_1e9eb21a -->
<g id="task_1e9eb21a" class="node">
<title>task_1e9eb21a</title>
<g id="a_task_1e9eb21a"><a xlink:title="pg_remove : Set pg_role if applicable">
<polygon fill="none" stroke="#998933" points="1892.34,-896.57 1892.34,-911.48 1800.51,-922.02 1670.65,-922.02 1578.82,-911.48 1578.82,-896.57 1670.65,-886.02 1800.51,-886.02 1892.34,-896.57"/>
<text text-anchor="middle" x="1735.58" y="-900.32" font-family="Times,serif" font-size="14.00">pg_remove : Set pg_role if applicable</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_1e9eb21a -->
<g id="edge_5a183e5a" class="edge">
<title>role_544a20e2-&gt;task_1e9eb21a</title>
<g id="a_edge_5a183e5a"><a xlink:title="22 [when: pg_clean|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<path fill="none" stroke="#998933" d="M798.2,-1046.48C836.95,-1047.11 884.3,-1040.77 915.11,-1012.02 942.39,-986.57 904.42,-953.88 933.11,-930.02 1033.14,-846.86 1414.21,-871.26 1612.71,-890.5" id="path_edge_5a183e5a"/>
<polygon fill="#998933" stroke="#998933" points="1612.61,-894 1622.9,-891.49 1613.29,-887.04 1612.61,-894"/>
</a>
</g>
<g id="a_edge_5a183e5a-label"><a xlink:title="22 [when: pg_clean|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_5a183e5a" text-anchor="middle" startOffset="50%">22 [when: pg_clean|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']</textPath></text>
</a>
</g>
<links><link target="task_1e9eb21a"/></links></g>
<!-- task_fcefc098 -->
<g id="task_fcefc098" class="node">
<title>task_fcefc098</title>
<g id="a_task_fcefc098"><a xlink:title="pg_remove : Remove follower postgres service from consul">
<polygon fill="none" stroke="#998933" points="1978.49,-842.57 1978.49,-857.48 1836.2,-868.02 1634.97,-868.02 1492.67,-857.48 1492.67,-842.57 1634.97,-832.02 1836.2,-832.02 1978.49,-842.57"/>
<text text-anchor="middle" x="1735.58" y="-846.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower postgres service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_fcefc098 -->
<g id="edge_6507104a" class="edge">
<title>role_544a20e2-&gt;task_fcefc098</title>
<g id="a_edge_6507104a"><a xlink:title="23 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M796.17,-1047.48C835.9,-1048.94 885.04,-1043.13 915.11,-1012.02 939.82,-986.45 906.63,-876.76 933.11,-853.02 977.3,-813.4 1318.63,-825.26 1541.38,-837.58" id="path_edge_6507104a"/>
<polygon fill="#998933" stroke="#998933" points="1541.38,-841.09 1551.56,-838.15 1541.77,-834.1 1541.38,-841.09"/>
</a>
</g>
<g id="a_edge_6507104a-label"><a xlink:title="23 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_6507104a" text-anchor="middle" startOffset="50%">23 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_fcefc098"/></links></g>
<!-- task_20d248e7 -->
<g id="task_20d248e7" class="node">
<title>task_20d248e7</title>
<g id="a_task_20d248e7"><a xlink:title="pg_remove : Remove follower patroni service from consul">
<polygon fill="none" stroke="#998933" points="1973.14,-788.57 1973.14,-803.48 1833.98,-814.02 1637.18,-814.02 1498.02,-803.48 1498.02,-788.57 1637.18,-778.02 1833.98,-778.02 1973.14,-788.57"/>
<text text-anchor="middle" x="1735.58" y="-792.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower patroni service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_20d248e7 -->
<g id="edge_e7a144b6" class="edge">
<title>role_544a20e2-&gt;task_20d248e7</title>
<g id="a_edge_e7a144b6"><a xlink:title="24 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M795.55,-1047.69C835.55,-1049.38 885.22,-1043.74 915.11,-1012.02 946.48,-978.74 899.6,-838.14 933.11,-807.02 975.88,-767.3 1306.91,-774.92 1529.95,-784.89" id="path_edge_e7a144b6"/>
<polygon fill="#998933" stroke="#998933" points="1530,-788.4 1540.15,-785.35 1530.32,-781.41 1530,-788.4"/>
</a>
</g>
<g id="a_edge_e7a144b6-label"><a xlink:title="24 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_e7a144b6" text-anchor="middle" startOffset="50%">24 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_20d248e7"/></links></g>
<!-- task_424357d3 -->
<g id="task_424357d3" class="node">
<title>task_424357d3</title>
<g id="a_task_424357d3"><a xlink:title="pg_remove : Reload follower consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#998933" points="2012.03,-734.57 2012.03,-749.48 1850.09,-760.02 1621.08,-760.02 1459.14,-749.48 1459.14,-734.57 1621.08,-724.02 1850.09,-724.02 2012.03,-734.57"/>
<text text-anchor="middle" x="1735.58" y="-738.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_424357d3 -->
<g id="edge_fc8d9d5e" class="edge">
<title>role_544a20e2-&gt;task_424357d3</title>
<g id="a_edge_fc8d9d5e"><a xlink:title="25 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M795.29,-1047.84C835.43,-1049.65 885.38,-1044.11 915.11,-1012.02 953.57,-970.52 892.09,-797.01 933.11,-758.02 973.52,-719.62 1277.3,-723.02 1498.95,-730.94" id="path_edge_fc8d9d5e"/>
<polygon fill="#998933" stroke="#998933" points="1498.99,-734.44 1509.11,-731.31 1499.24,-727.45 1498.99,-734.44"/>
</a>
</g>
<g id="a_edge_fc8d9d5e-label"><a xlink:title="25 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_fc8d9d5e" text-anchor="middle" startOffset="50%">25 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_424357d3"/></links></g>
<!-- task_59fc9a41 -->
<g id="task_59fc9a41" class="node">
<title>task_59fc9a41</title>
<g id="a_task_59fc9a41"><a xlink:title="pg_remove : Stop and disable follower patroni service">
<polygon fill="none" stroke="#998933" points="1955.97,-680.57 1955.97,-695.48 1826.87,-706.02 1644.3,-706.02 1515.2,-695.48 1515.2,-680.57 1644.3,-670.02 1826.87,-670.02 1955.97,-680.57"/>
<text text-anchor="middle" x="1735.58" y="-684.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower patroni service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_59fc9a41 -->
<g id="edge_5fbe3328" class="edge">
<title>role_544a20e2-&gt;task_59fc9a41</title>
<g id="a_edge_5fbe3328"><a xlink:title="26 [when: pg_clean|bool and pg_role != 'primary']">
<path fill="none" stroke="#998933" d="M794.97,-1047.93C835.24,-1049.86 885.46,-1044.4 915.11,-1012.02 960.97,-961.95 884.26,-754.18 933.11,-707.02 974.78,-666.8 1301.06,-670.85 1524.25,-678.6" id="path_edge_5fbe3328"/>
<polygon fill="#998933" stroke="#998933" points="1524.34,-682.11 1534.46,-678.96 1524.59,-675.11 1524.34,-682.11"/>
</a>
</g>
<g id="a_edge_5fbe3328-label"><a xlink:title="26 [when: pg_clean|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_5fbe3328" text-anchor="middle" startOffset="50%">26 [when: pg_clean|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_59fc9a41"/></links></g>
<!-- task_109308af -->
<g id="task_109308af" class="node">
<title>task_109308af</title>
<g id="a_task_109308af"><a xlink:title="pg_remove : Stop and disable follower postgres service">
<polygon fill="none" stroke="#998933" points="1960.82,-626.57 1960.82,-641.48 1828.88,-652.02 1642.29,-652.02 1510.35,-641.48 1510.35,-626.57 1642.29,-616.02 1828.88,-616.02 1960.82,-626.57"/>
<text text-anchor="middle" x="1735.58" y="-630.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower postgres service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_109308af -->
<g id="edge_0507faad" class="edge">
<title>role_544a20e2-&gt;task_109308af</title>
<g id="a_edge_0507faad"><a xlink:title="27 [when: pg_clean|bool and pg_role != 'primary']">
<path fill="none" stroke="#998933" d="M794.62,-1047.99C835.01,-1050.02 885.49,-1044.65 915.11,-1012.02 941.81,-982.62 904.69,-682.77 933.11,-655.02 974.13,-614.99 1294.17,-617.78 1517.2,-624.86" id="path_edge_0507faad"/>
<polygon fill="#998933" stroke="#998933" points="1517.3,-628.36 1527.41,-625.19 1517.53,-621.37 1517.3,-628.36"/>
</a>
</g>
<g id="a_edge_0507faad-label"><a xlink:title="27 [when: pg_clean|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_0507faad" text-anchor="middle" startOffset="50%">27 [when: pg_clean|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_109308af"/></links></g>
<!-- task_77dae43b -->
<g id="task_77dae43b" class="node">
<title>task_77dae43b</title>
<g id="a_task_77dae43b"><a xlink:title="pg_remove : Force follower postgres shutdown">
<polygon fill="none" stroke="#998933" points="1929,-572.57 1929,-587.48 1815.7,-598.02 1655.47,-598.02 1542.16,-587.48 1542.16,-572.57 1655.47,-562.02 1815.7,-562.02 1929,-572.57"/>
<text text-anchor="middle" x="1735.58" y="-576.32" font-family="Times,serif" font-size="14.00">pg_remove : Force follower postgres shutdown</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_77dae43b -->
<g id="edge_0c129129" class="edge">
<title>role_544a20e2-&gt;task_77dae43b</title>
<g id="a_edge_0c129129"><a xlink:title="28 [when: pg_clean|bool and pg_role != 'primary']">
<path fill="none" stroke="#998933" d="M794.69,-1048.06C835.1,-1050.1 885.59,-1044.74 915.11,-1012.02 945.65,-978.16 900.6,-634 933.11,-602.02 975.2,-560.62 1313.45,-564.43 1536.87,-571.71" id="path_edge_0c129129"/>
<polygon fill="#998933" stroke="#998933" points="1536.98,-575.22 1547.09,-572.05 1537.21,-568.22 1536.98,-575.22"/>
</a>
</g>
<g id="a_edge_0c129129-label"><a xlink:title="28 [when: pg_clean|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_0c129129" text-anchor="middle" startOffset="50%">28 [when: pg_clean|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_77dae43b"/></links></g>
<!-- task_4d6fb23e -->
<g id="task_4d6fb23e" class="node">
<title>task_4d6fb23e</title>
<g id="a_task_4d6fb23e"><a xlink:title="pg_remove : Remove leader postgres service from consul">
<polygon fill="none" stroke="#998933" points="1969.2,-518.57 1969.2,-533.48 1832.35,-544.02 1638.81,-544.02 1501.96,-533.48 1501.96,-518.57 1638.81,-508.02 1832.35,-508.02 1969.2,-518.57"/>
<text text-anchor="middle" x="1735.58" y="-522.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader postgres service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_4d6fb23e -->
<g id="edge_108d848f" class="edge">
<title>role_544a20e2-&gt;task_4d6fb23e</title>
<g id="a_edge_108d848f"><a xlink:title="29 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M794.74,-1048.1C835.18,-1050.17 885.68,-1044.82 915.11,-1012.02 949.5,-973.71 896.52,-585.24 933.11,-549.02 973.27,-509.27 1284.94,-510.69 1507.53,-517.05" id="path_edge_108d848f"/>
<polygon fill="#998933" stroke="#998933" points="1507.63,-520.56 1517.73,-517.35 1507.83,-513.56 1507.63,-520.56"/>
</a>
</g>
<g id="a_edge_108d848f-label"><a xlink:title="29 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_108d848f" text-anchor="middle" startOffset="50%">29 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_4d6fb23e"/></links></g>
<!-- task_c2fcc705 -->
<g id="task_c2fcc705" class="node">
<title>task_c2fcc705</title>
<g id="a_task_c2fcc705"><a xlink:title="pg_remove : Remove leader patroni service from consul">
<polygon fill="none" stroke="#998933" points="1964.76,-464.57 1964.76,-479.48 1830.51,-490.02 1640.65,-490.02 1506.41,-479.48 1506.41,-464.57 1640.65,-454.02 1830.51,-454.02 1964.76,-464.57"/>
<text text-anchor="middle" x="1735.58" y="-468.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader patroni service from consul</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_c2fcc705 -->
<g id="edge_db74779c" class="edge">
<title>role_544a20e2-&gt;task_c2fcc705</title>
<g id="a_edge_db74779c"><a xlink:title="30 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M794.34,-1048.12C834.87,-1050.27 885.64,-1045 915.11,-1012.02 953.42,-969.17 892.34,-535.54 933.11,-495.02 973.39,-454.99 1287.96,-456.65 1510.78,-463.11" id="path_edge_db74779c"/>
<polygon fill="#998933" stroke="#998933" points="1510.89,-466.62 1520.99,-463.41 1511.09,-459.62 1510.89,-466.62"/>
</a>
</g>
<g id="a_edge_db74779c-label"><a xlink:title="30 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_db74779c" text-anchor="middle" startOffset="50%">30 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_c2fcc705"/></links></g>
<!-- task_f2f67a62 -->
<g id="task_f2f67a62" class="node">
<title>task_f2f67a62</title>
<g id="a_task_f2f67a62"><a xlink:title="pg_remove : Reload leader consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#998933" points="2002.74,-410.57 2002.74,-425.48 1846.24,-436.02 1624.92,-436.02 1468.43,-425.48 1468.43,-410.57 1624.92,-400.02 1846.24,-400.02 2002.74,-410.57"/>
<text text-anchor="middle" x="1735.58" y="-414.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_f2f67a62 -->
<g id="edge_59bbddd7" class="edge">
<title>role_544a20e2-&gt;task_f2f67a62</title>
<g id="a_edge_59bbddd7"><a xlink:title="31 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#998933" d="M794.37,-1048.15C834.92,-1050.31 885.69,-1045.05 915.11,-1012.02 957.33,-964.63 888.16,-485.84 933.11,-441.02 971.87,-402.38 1265.49,-402.53 1486.2,-408.4" id="path_edge_59bbddd7"/>
<polygon fill="#998933" stroke="#998933" points="1486.23,-411.9 1496.32,-408.68 1486.42,-404.91 1486.23,-411.9"/>
</a>
</g>
<g id="a_edge_59bbddd7-label"><a xlink:title="31 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_59bbddd7" text-anchor="middle" startOffset="50%">31 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_f2f67a62"/></links></g>
<!-- task_3532d390 -->
<g id="task_3532d390" class="node">
<title>task_3532d390</title>
<g id="a_task_3532d390"><a xlink:title="pg_remove : Stop and disable leader patroni service">
<polygon fill="none" stroke="#998933" points="1946.68,-356.57 1946.68,-371.48 1823.02,-382.02 1648.14,-382.02 1524.49,-371.48 1524.49,-356.57 1648.14,-346.02 1823.02,-346.02 1946.68,-356.57"/>
<text text-anchor="middle" x="1735.58" y="-360.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader patroni service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_3532d390 -->
<g id="edge_b6ebc797" class="edge">
<title>role_544a20e2-&gt;task_3532d390</title>
<g id="a_edge_b6ebc797"><a xlink:title="32 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#998933" d="M794.4,-1048.18C834.97,-1050.35 885.74,-1045.09 915.11,-1012.02 961.25,-960.09 883.98,-436.15 933.11,-387.02 974.04,-346.1 1300.08,-348.64 1523.49,-355.45" id="path_edge_b6ebc797"/>
<polygon fill="#998933" stroke="#998933" points="1523.61,-358.95 1533.72,-355.76 1523.83,-351.95 1523.61,-358.95"/>
</a>
</g>
<g id="a_edge_b6ebc797-label"><a xlink:title="32 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_b6ebc797" text-anchor="middle" startOffset="50%">32 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_3532d390"/></links></g>
<!-- task_1aeb9e26 -->
<g id="task_1aeb9e26" class="node">
<title>task_1aeb9e26</title>
<g id="a_task_1aeb9e26"><a xlink:title="pg_remove : Stop and disable leader postgres service">
<polygon fill="none" stroke="#998933" points="1951.53,-302.57 1951.53,-317.48 1825.03,-328.02 1646.14,-328.02 1519.64,-317.48 1519.64,-302.57 1646.14,-292.02 1825.03,-292.02 1951.53,-302.57"/>
<text text-anchor="middle" x="1735.58" y="-306.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader postgres service</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_1aeb9e26 -->
<g id="edge_049f74bb" class="edge">
<title>role_544a20e2-&gt;task_1aeb9e26</title>
<g id="a_edge_049f74bb"><a xlink:title="33 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#998933" d="M794.43,-1048.2C835,-1050.38 885.77,-1045.12 915.11,-1012.02 940.14,-983.78 906.46,-359.73 933.11,-333.02 973.78,-292.26 1296.67,-294.58 1519.99,-301.32" id="path_edge_049f74bb"/>
<polygon fill="#998933" stroke="#998933" points="1520.11,-304.83 1530.22,-301.64 1520.33,-297.83 1520.11,-304.83"/>
</a>
</g>
<g id="a_edge_049f74bb-label"><a xlink:title="33 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_049f74bb" text-anchor="middle" startOffset="50%">33 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_1aeb9e26"/></links></g>
<!-- task_bdd7531e -->
<g id="task_bdd7531e" class="node">
<title>task_bdd7531e</title>
<g id="a_task_bdd7531e"><a xlink:title="pg_remove : Force leader postgres shutdown">
<polygon fill="none" stroke="#998933" points="1919.71,-248.57 1919.71,-263.48 1811.85,-274.02 1659.31,-274.02 1551.45,-263.48 1551.45,-248.57 1659.31,-238.02 1811.85,-238.02 1919.71,-248.57"/>
<text text-anchor="middle" x="1735.58" y="-252.32" font-family="Times,serif" font-size="14.00">pg_remove : Force leader postgres shutdown</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_bdd7531e -->
<g id="edge_f323e712" class="edge">
<title>role_544a20e2-&gt;task_bdd7531e</title>
<g id="a_edge_f323e712"><a xlink:title="34 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#998933" d="M794.45,-1048.21C835.03,-1050.41 885.81,-1045.15 915.11,-1012.02 942.1,-981.51 904.37,-307.89 933.11,-279.02 975.16,-236.8 1319.58,-240.77 1543.02,-248.03" id="path_edge_f323e712"/>
<polygon fill="#998933" stroke="#998933" points="1543.13,-251.54 1553.24,-248.37 1543.36,-244.54 1543.13,-251.54"/>
</a>
</g>
<g id="a_edge_f323e712-label"><a xlink:title="34 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_f323e712" text-anchor="middle" startOffset="50%">34 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_bdd7531e"/></links></g>
<!-- task_64b1df6b -->
<g id="task_64b1df6b" class="node">
<title>task_64b1df6b</title>
<g id="a_task_64b1df6b"><a xlink:title="pg_remove : Remove consul metadata about pgsql cluster">
<polygon fill="none" stroke="#998933" points="1970.52,-194.57 1970.52,-209.48 1832.9,-220.02 1638.27,-220.02 1500.65,-209.48 1500.65,-194.57 1638.27,-184.02 1832.9,-184.02 1970.52,-194.57"/>
<text text-anchor="middle" x="1735.58" y="-198.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove consul metadata about pgsql cluster</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_64b1df6b -->
<g id="edge_bb49508e" class="edge">
<title>role_544a20e2-&gt;task_64b1df6b</title>
<g id="a_edge_bb49508e"><a xlink:title="35 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#998933" d="M794.47,-1048.23C835.06,-1050.43 885.83,-1045.17 915.11,-1012.02 944.06,-979.24 902.28,-256.04 933.11,-225.02 972.97,-184.93 1284.94,-186.46 1507.65,-192.93" id="path_edge_bb49508e"/>
<polygon fill="#998933" stroke="#998933" points="1507.76,-196.43 1517.86,-193.23 1507.96,-189.44 1507.76,-196.43"/>
</a>
</g>
<g id="a_edge_bb49508e-label"><a xlink:title="35 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_bb49508e" text-anchor="middle" startOffset="50%">35 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_64b1df6b"/></links></g>
<!-- task_83796928 -->
<g id="task_83796928" class="node">
<title>task_83796928</title>
<g id="a_task_83796928"><a xlink:title="pg_remove : Remove postgres data">
<polygon fill="none" stroke="#998933" points="1883.55,-140.57 1883.55,-155.48 1796.87,-166.02 1674.29,-166.02 1587.62,-155.48 1587.62,-140.57 1674.29,-130.02 1796.87,-130.02 1883.55,-140.57"/>
<text text-anchor="middle" x="1735.58" y="-144.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres data</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_83796928 -->
<g id="edge_78a55e5f" class="edge">
<title>role_544a20e2-&gt;task_83796928</title>
<g id="a_edge_78a55e5f"><a xlink:title="36 [when: pg_clean|bool and rm_pgdata|bool]">
<path fill="none" stroke="#998933" d="M794.48,-1048.24C835.08,-1050.45 885.86,-1045.19 915.11,-1012.02 946.02,-976.97 900.19,-204.19 933.11,-171.02 977.33,-126.48 1357.03,-133.28 1577.58,-141.19" id="path_edge_78a55e5f"/>
<polygon fill="#998933" stroke="#998933" points="1577.51,-144.69 1587.63,-141.56 1577.76,-137.7 1577.51,-144.69"/>
</a>
</g>
<g id="a_edge_78a55e5f-label"><a xlink:title="36 [when: pg_clean|bool and rm_pgdata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_78a55e5f" text-anchor="middle" startOffset="50%">36 [when: pg_clean|bool and rm_pgdata|bool]</textPath></text>
</a>
</g>
<links><link target="task_83796928"/></links></g>
<!-- task_0cdc9ee2 -->
<g id="task_0cdc9ee2" class="node">
<title>task_0cdc9ee2</title>
<g id="a_task_0cdc9ee2"><a xlink:title="pg_remove : Remove pg packages">
<polygon fill="none" stroke="#998933" points="1880.42,-86.57 1880.42,-101.48 1795.58,-112.02 1675.59,-112.02 1590.74,-101.48 1590.74,-86.57 1675.59,-76.02 1795.58,-76.02 1880.42,-86.57"/>
<text text-anchor="middle" x="1735.58" y="-90.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg packages</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_0cdc9ee2 -->
<g id="edge_861e2941" class="edge">
<title>role_544a20e2-&gt;task_0cdc9ee2</title>
<g id="a_edge_861e2941"><a xlink:title="37 [when: pg_clean|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#998933" d="M794.05,-1048.23C834.73,-1050.5 885.77,-1045.33 915.11,-1012.02 947.98,-974.7 898.1,-152.34 933.11,-117.02 977.48,-72.27 1360.13,-79.32 1580.27,-87.28" id="path_edge_861e2941"/>
<polygon fill="#998933" stroke="#998933" points="1580.18,-90.78 1590.3,-87.65 1580.44,-83.79 1580.18,-90.78"/>
</a>
</g>
<g id="a_edge_861e2941-label"><a xlink:title="37 [when: pg_clean|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_861e2941" text-anchor="middle" startOffset="50%">37 [when: pg_clean|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_0cdc9ee2"/></links></g>
<!-- task_27477057 -->
<g id="task_27477057" class="node">
<title>task_27477057</title>
<g id="a_task_27477057"><a xlink:title="pg_remove : Remove pg extensions">
<polygon fill="none" stroke="#998933" points="1885.27,-32.57 1885.27,-47.48 1797.59,-58.02 1673.58,-58.02 1585.89,-47.48 1585.89,-32.57 1673.58,-22.02 1797.59,-22.02 1885.27,-32.57"/>
<text text-anchor="middle" x="1735.58" y="-36.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg extensions</text>
</a>
</g>
</g>
<!-- role_544a20e2&#45;&gt;task_27477057 -->
<g id="edge_396ec5eb" class="edge">
<title>role_544a20e2-&gt;task_27477057</title>
<g id="a_edge_396ec5eb"><a xlink:title="38 [when: pg_clean|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#998933" d="M794.07,-1048.24C834.75,-1050.52 885.79,-1045.35 915.11,-1012.02 949.94,-972.43 896,-100.49 933.11,-63.02 1026.74,31.52 1427.49,-2.32 1624.45,-25.51" id="path_edge_396ec5eb"/>
<polygon fill="#998933" stroke="#998933" points="1624.19,-29.01 1634.53,-26.71 1625.02,-22.06 1624.19,-29.01"/>
</a>
</g>
<g id="a_edge_396ec5eb-label"><a xlink:title="38 [when: pg_clean|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#998933" dy="-1%"><textPath xlink:href="#path_edge_396ec5eb" text-anchor="middle" startOffset="50%">38 [when: pg_clean|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_27477057"/></links></g>
<!-- task_0abdeb08 -->
<g id="task_0abdeb08" class="node">
<title>task_0abdeb08</title>
<g id="a_task_0abdeb08"><a xlink:title="Stop and disable systemd infra service">
<polygon fill="none" stroke="#1ea3ae" points="915.22,-977.57 915.22,-992.48 807.6,-1003.02 655.4,-1003.02 547.78,-992.48 547.78,-977.57 655.4,-967.02 807.6,-967.02 915.22,-977.57"/>
<text text-anchor="middle" x="731.5" y="-981.32" font-family="Times,serif" font-size="14.00">[task] Stop and disable systemd infra service</text>
</a>
</g>
</g>
<!-- play_16de0514&#45;&gt;task_0abdeb08 -->
<g id="edge_b048d852" class="edge">
<title>play_16de0514-&gt;task_0abdeb08</title>
<g id="a_edge_b048d852"><a xlink:title="1 ">
<path fill="none" stroke="#1ea3ae" d="M344.94,-960.13C353.67,-961.2 362.47,-962.2 370.89,-963.02 427.26,-968.54 488.76,-972.9 544.69,-976.24" id="path_edge_b048d852"/>
<polygon fill="#1ea3ae" stroke="#1ea3ae" points="544.52,-979.74 554.7,-976.83 544.93,-972.75 544.52,-979.74"/>
</a>
</g>
<g id="a_edge_b048d852-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#1ea3ae" dy="-1%"><textPath xlink:href="#path_edge_b048d852" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_0abdeb08"/></links></g>
<!-- task_171bc088 -->
<g id="task_171bc088" class="node">
<title>task_171bc088</title>
<g id="a_task_171bc088"><a xlink:title="Remove infra data on meta nodes">
<polygon fill="none" stroke="#1ea3ae" points="897.55,-923.57 897.55,-938.48 800.28,-949.02 662.72,-949.02 565.45,-938.48 565.45,-923.57 662.72,-913.02 800.28,-913.02 897.55,-923.57"/>
<text text-anchor="middle" x="731.5" y="-927.32" font-family="Times,serif" font-size="14.00">[task] Remove infra data on meta nodes</text>
</a>
</g>
</g>
<!-- play_16de0514&#45;&gt;task_171bc088 -->
<g id="edge_5aa27cdf" class="edge">
<title>play_16de0514-&gt;task_171bc088</title>
<g id="a_edge_5aa27cdf"><a xlink:title="2 [when: rm_metadata|bool]">
<path fill="none" stroke="#1ea3ae" d="M345.15,-947.07C401.19,-944.74 481.94,-941.38 555.06,-938.33" id="path_edge_5aa27cdf"/>
<polygon fill="#1ea3ae" stroke="#1ea3ae" points="555.48,-941.82 565.32,-937.9 555.18,-934.82 555.48,-941.82"/>
</a>
</g>
<g id="a_edge_5aa27cdf-label"><a xlink:title="2 [when: rm_metadata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#1ea3ae" dy="-1%"><textPath xlink:href="#path_edge_5aa27cdf" text-anchor="middle" startOffset="50%">2 [when: rm_metadata|bool]</textPath></text>
</a>
</g>
<links><link target="task_171bc088"/></links></g>
<!-- task_f3cb21ff -->
<g id="task_f3cb21ff" class="node">
<title>task_f3cb21ff</title>
<g id="a_task_f3cb21ff"><a xlink:title="Uninstall meta packages">
<polygon fill="none" stroke="#1ea3ae" points="861.79,-869.57 861.79,-884.48 785.47,-895.02 677.53,-895.02 601.21,-884.48 601.21,-869.57 677.53,-859.02 785.47,-859.02 861.79,-869.57"/>
<text text-anchor="middle" x="731.5" y="-873.32" font-family="Times,serif" font-size="14.00">[task] Uninstall meta packages</text>
</a>
</g>
</g>
<!-- play_16de0514&#45;&gt;task_f3cb21ff -->
<g id="edge_3a49b07e" class="edge">
<title>play_16de0514-&gt;task_f3cb21ff</title>
<g id="a_edge_3a49b07e"><a xlink:title="3 [when: rm_metapkgs|bool]">
<path fill="none" stroke="#1ea3ae" d="M326.26,-931.99C340.58,-927.54 356.22,-923.15 370.89,-920.02 446.2,-903.95 531.76,-893.42 600.53,-886.8" id="path_edge_3a49b07e"/>
<polygon fill="#1ea3ae" stroke="#1ea3ae" points="600.92,-890.28 610.55,-885.85 600.26,-883.31 600.92,-890.28"/>
</a>
</g>
<g id="a_edge_3a49b07e-label"><a xlink:title="3 [when: rm_metapkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#1ea3ae" dy="-1%"><textPath xlink:href="#path_edge_3a49b07e" text-anchor="middle" startOffset="50%">3 [when: rm_metapkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_f3cb21ff"/></links></g>
</g>
</svg>